import{D as w}from"./DataTable-BKxOEGgj.js";import{_ as d,h as _,w as p,a as s,t as f,r as n,o as g,I as L,c as F,e as r,F as y}from"./index-BJUk5Bnl.js";import{M as V}from"./ModalBase-CqEJVM7s.js";import"./SearchInput-CAdKpNBp.js";import"./conversors-D9s9cIlT.js";import"./MyButton-cavzMLXt.js";const M={name:"FormViewLogModal",components:{ModalBase:V},props:{show:{type:Boolean,default:!1},dataForm:{type:Object}},emits:["onClose"]};function C(o,e,a,h,t,l){const i=n("ModalBase");return g(),_(i,{open:a.show,title:"Visualizar Log",onOnClose:e[0]||(e[0]=m=>o.$emit("onClose"))},{content:p(()=>[s("section",null,[s("p",null,f(a.dataForm?.message),1)])]),_:1},8,["open"])}const I=d(M,[["render",C]]),k={name:"LogsController",components:{DataTable:w,Icon:L,FormViewLogModal:I},data(){return{showFormViewLogModal:!1,loading:!1,columns:[{title:"#",key:"id"},{title:"Tipo",key:"type"},{title:"Criado",key:"createdAt",type:"date"}],items:[],editItem:{}}},mounted(){this.getLogs()},methods:{async getLogs(){this.showFormViewLogModal=!1,this.loading=!0;try{await new Promise(o=>setTimeout(o,1e3)),this.items=[{id:1,type:"Login",created:"2022-01-01"}]}catch(o){this.$snotify.error("Erro ao buscar os logs: "+o)}finally{this.loading=!1}},showViewLogItem(o){this.editItem=o,this.showFormViewLogModal=!0},handleSearch(o){console.log("handleSearch",o)}}},B={class:"card"},b=["onClick"];function S(o,e,a,h,t,l){const i=n("Icon"),m=n("DataTable"),u=n("FormViewLogModal");return g(),F(y,null,[s("main",null,[s("section",B,[e[1]||(e[1]=s("header",null,[s("h1",null,"Logs do Sistema")],-1)),r(m,{items:t.items,columns:t.columns,loading:t.loading,total:1,onOnSearch:l.handleSearch},{actions:p(({item:c})=>[s("button",{class:"rounded primary",onClick:v=>l.showViewLogItem(c)},[r(i,{icon:"lsicon:view-outline"})],8,b)]),_:1},8,["items","columns","loading","onOnSearch"])])]),r(u,{show:t.showFormViewLogModal,dataForm:t.editItem,onOnClose:e[0]||(e[0]=c=>t.showFormViewLogModal=!1)},null,8,["show","dataForm"])],64)}const N=d(k,[["render",S],["__scopeId","data-v-fbf30715"]]);export{N as default};
