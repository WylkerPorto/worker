import{D as d}from"./DataTable-t-TnjhHE.js";import{I as m,_ as h,c as p,a,e as s,w as u,r as i,o as g}from"./index-6U5DvoG4.js";import{l as y}from"./vacancy-DHjj5IAJ.js";import"./SearchInput-CeBoeNkG.js";import"./conversors-DLOhcvO0.js";import"./MyButton-BYX1gFvO.js";import"./http-C2DCJvKC.js";const _={name:"SupervisorVacancy",components:{DataTable:d,Icon:m},data(){return{loading:!1,columns:[{key:"title",title:"Título"},{key:"employmentType",title:"Tipo de vaga"},{key:"status",title:"Status"},{key:"expirationDate",title:"Data de Expiração",type:"date"}],items:[],total:0,page:1,search:""}},mounted(){this.getVacancies()},methods:{async getVacancies(){this.loading=!0;try{const e=await y(this.filters);this.items.push(...e.data.vacancies),this.total=e.total}catch(e){this.$snotify.error(e)}finally{this.loading=!1}},handleLoadMore(){this.page++,this.getVacancies()},handleViewVacancy(e){console.log("handleViewVacancy",e)}},computed:{filters(){return{page:this.page,search:this.search}},loadMore(){return this.items.length<this.total}}},f={class:"card"},V=["onClick"];function k(e,n,M,v,t,o){const r=i("Icon"),l=i("DataTable");return g(),p("main",null,[a("section",f,[n[0]||(n[0]=a("header",null,[a("h1",null,"Vagas")],-1)),s(l,{items:t.items,columns:t.columns,loading:t.loading,total:t.total,loadMore:o.loadMore,onOnLoadMore:o.handleLoadMore,onOnSearch:e.handleSearch},{actions:u(({item:c})=>[a("button",{class:"rounded primary",onClick:w=>o.handleViewVacancy(c),title:"Ver Candidatos"},[s(r,{icon:"mdi:user"})],8,V)]),_:1},8,["items","columns","loading","total","loadMore","onOnLoadMore","onOnSearch"])])])}const L=h(_,[["render",k],["__scopeId","data-v-3f2b053f"]]);export{L as default};
