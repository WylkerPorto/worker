import{I as f,_ as g,c as r,a as n,e as c,w as u,r as i,d,g as h,t as e,f as o,o as l}from"./index-Mu0760Vm.js";import{a as b}from"./vacancy-BAPdMDMv.js";import{u as M,c as k}from"./aplication-DRZmRDkZ.js";import{t as C}from"./conversors-CKfFtFQ4.js";import{M as L}from"./MyButton-CAWIgk02.js";import"./http-CXuHNYXv.js";const T={name:"UserVacancyDetail",components:{Icon:f,MyButton:L},data(){return{toFormatDate:C,vacancy:{},loading:!1}},mounted(){this.getVacancy()},methods:{async getVacancy(){try{const s=await b(this.$route.params.id);this.vacancy=s.data}catch(s){this.$snotify.error(s.response.data.message)}},async apply(){this.loading=!0;try{await k({vacancyId:parseInt(this.$route.params.id),status:"Candidatura Enviada"}),this.$snotify.success("Vaga aplicada com sucesso!"),this.vacancy.isApplied=!0}catch(s){this.$snotify.error(s)}finally{this.loading=!1}},async remove(){this.loading=!0;try{await M(this.vacancy.applications[0].id,{vacancyId:parseInt(this.$route.params.id),status:"Candidatura Retirada"}),this.$snotify.success("Candidatura removida com sucesso!"),this.vacancy.isApplied=!1}catch(s){this.$snotify.error(s)}finally{this.loading=!1}}}},x={class:"container"},D={class:"flex"},V={key:0},H=["innerHTML"],I=["innerHTML"],B=["innerHTML"],_=["innerHTML"];function w(s,t,A,R,a,p){const y=i("Icon"),m=i("RouterLink"),v=i("MyButton");return l(),r("main",x,[n("header",null,[c(m,{to:{name:"userVacancy"}},{default:u(()=>[c(y,{icon:"lets-icons:back"})]),_:1}),t[0]||(t[0]=n("h1",null,"Detalhes da vaga",-1))]),n("section",null,[n("h2",null,e(a.vacancy.title),1),n("div",D,[n("span",null,[t[1]||(t[1]=n("b",null,"Criado em: ",-1)),o(e(a.toFormatDate(a.vacancy.createdAt)),1)]),n("span",null,[t[2]||(t[2]=n("b",null,"Data de expiração: ",-1)),o(e(a.toFormatDate(a.vacancy.expirationDate)),1)])]),t[7]||(t[7]=n("hr",null,null,-1)),n("p",null,[t[3]||(t[3]=n("b",null,"Modelo de trabalho: ",-1)),o(e(a.vacancy.workModel)+" - "+e(a.vacancy.employmentType),1)]),a.vacancy.hideSalary?d("",!0):(l(),r("p",V,[t[4]||(t[4]=n("b",null,"Salário: ",-1)),o(e(a.vacancy.salary),1)])),n("p",null,[t[5]||(t[5]=n("b",null,"Local: ",-1)),o(e(a.vacancy.city)+" - "+e(a.vacancy.state),1)]),t[8]||(t[8]=n("hr",null,null,-1)),t[9]||(t[9]=n("h3",null,"Detalhes da vaga",-1)),n("div",{innerHTML:a.vacancy.description},null,8,H),t[10]||(t[10]=n("p",null,[n("b",null,"Conhecimentos:")],-1)),n("div",{innerHTML:a.vacancy.niceToHave},null,8,I),t[11]||(t[11]=n("p",null,[n("b",null,"Responsabilidades:")],-1)),n("div",{innerHTML:a.vacancy.responsibilities},null,8,B),t[12]||(t[12]=n("p",null,[n("b",null,"Requisitos:")],-1)),n("div",{innerHTML:a.vacancy.requirements},null,8,_),a.vacancy.status==="Ativa"&&!a.vacancy.isApplied?(l(),h(v,{key:1,class:"btn success",type:"button",loading:a.loading,onClick:p.apply},{default:u(()=>t[6]||(t[6]=[o(" Candidatar-se ")])),_:1},8,["loading","onClick"])):d("",!0)])])}const j=g(T,[["render",w],["__scopeId","data-v-e46d1479"]]);export{j as default};
