import{M as w,D as _}from"./ModalBase-Dkd7puL5.js";import{_ as d,h as f,w as g,b as s,t as L,r as a,o as h,I as F,c as V,e as c,F as y}from"./index-YQsSOIm2.js";const M={name:"FormViewLogModal",components:{ModalBase:w},props:{show:{type:Boolean,default:!1},dataForm:{type:Object}},emits:["onClose"]};function C(o,e,l,u,t,i){const r=a("ModalBase");return h(),f(r,{open:l.show,title:"Visualizar Log",onOnClose:e[0]||(e[0]=n=>o.$emit("onClose"))},{content:g(()=>{var n;return[s("section",null,[s("p",null,L((n=l.dataForm)==null?void 0:n.message),1)])]}),_:1},8,["open"])}const I=d(M,[["render",C]]),b={name:"LogsController",components:{DataTable:_,Icon:F,FormViewLogModal:I},data(){return{showFormViewLogModal:!1,loading:!1,columns:[{title:"#",key:"id"},{title:"Tipo",key:"type"},{title:"Criado",key:"created"}],items:[],editItem:{}}},mounted(){this.getLogs()},methods:{async getLogs(){this.showFormViewLogModal=!1,this.loading=!0;try{await new Promise(o=>setTimeout(o,1e3)),this.items=[{id:1,type:"Login",created:"2022-01-01"}]}catch(o){this.$snotify.error("Erro ao buscar os logs: "+o)}finally{this.loading=!1}},showViewLogItem(o){this.editItem=o,this.showFormViewLogModal=!0},handleSearch(o){console.log("handleSearch",o)}}},k={class:"card"},B=["onClick"];function S(o,e,l,u,t,i){const r=a("Icon"),n=a("DataTable"),p=a("FormViewLogModal");return h(),V(y,null,[s("main",null,[s("section",k,[e[1]||(e[1]=s("header",null,[s("h1",null,"Logs do Sistema")],-1)),c(n,{items:t.items,columns:t.columns,loading:t.loading,total:1,onOnSearch:i.handleSearch},{actions:g(({item:m})=>[s("button",{class:"rounded primary",onClick:v=>i.showViewLogItem(m)},[c(r,{icon:"lsicon:view-outline"})],8,B)]),_:1},8,["items","columns","loading","onOnSearch"])])]),c(p,{show:t.showFormViewLogModal,dataForm:t.editItem,onOnClose:e[0]||(e[0]=m=>t.showFormViewLogModal=!1)},null,8,["show","dataForm"])],64)}const T=d(b,[["render",S],["__scopeId","data-v-62b2589a"]]);export{T as default};
