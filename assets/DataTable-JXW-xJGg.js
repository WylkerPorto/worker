import{I,_ as V,c as n,a,e as k,j as M,r as d,o as t,u as A,b as r,t as _,g as D,F as y,i as f,k as w,h as F,w as N,f as j}from"./index-C5-yeAHb.js";import{a as $}from"./conversors-D81u7lIS.js";import{M as L}from"./MyButton-CzDRHxQz.js";const T={name:"SearchInput",props:{placeholder:{type:String,default:""},modelValue:{type:String,default:""}},emits:["update:modelValue"],components:{Icon:I},methods:{focus(){this.$refs?.input?.focus()},blur(){this.$refs?.input?.blur()},select(){this.$refs?.input?.select()}}},E=["placeholder","value"];function W(o,s,e,v,u,i){const m=d("Icon");return t(),n("main",null,[a("input",{type:"search",placeholder:e.placeholder,value:e.modelValue,class:M({show:e.modelValue}),onInput:s[0]||(s[0]=h=>o.$emit("update:modelValue",h?.target?.value)),ref:"input"},null,42,E),k(m,{icon:"bi:search"})])}const z=V(T,[["render",W],["__scopeId","data-v-fa66c7c8"]]),S={name:"DataTableComponent",data(){return{toFormatDate:$,search:""}},props:{items:{type:Array},columns:{type:Array},total:{type:Number},loading:{type:Boolean,default:!1},loadMore:{type:Boolean,default:!1}},components:{SearchInput:z,Icon:I,MyButton:L},emits:["onSearch","onLoadMore"],methods:{handleSearch(){this.$emit("onSearch",this.search)}},computed:{justifyWasAction(){return this.total?"space-between":"end"}}},b=()=>{A(o=>({"092c4fe7":o.justifyWasAction}))},g=S.setup;S.setup=g?(o,s)=>(b(),g(o,s)):b;const U={class:"data-table"},q=["colspan"],x={key:0},G={class:"header"},H={key:0},J={key:0,class:"actions"},K={key:0},O=["colspan"],P={key:1},Q=["colspan"];function R(o,s,e,v,u,i){const m=d("SearchInput"),h=d("Icon"),B=d("MyButton");return t(),n("main",U,[a("table",null,[a("thead",null,[a("tr",null,[a("th",{colspan:e.columns.length+(o.$slots.actions?1:0)},[a("section",null,[e.total?(t(),n("span",x,"#"+_(e.total),1)):r("",!0),a("form",{action:"#",onSubmit:s[1]||(s[1]=D((...l)=>i.handleSearch&&i.handleSearch(...l),["stop","prevent"]))},[k(m,{modelValue:u.search,"onUpdate:modelValue":s[0]||(s[0]=l=>u.search=l)},null,8,["modelValue"])],32)])],8,q)]),a("tr",G,[(t(!0),n(y,null,f(e.columns,(l,p)=>(t(),n("th",{key:p},_(l?.title),1))),128)),o.$slots.actions?(t(),n("th",H,"Ações")):r("",!0)])]),a("tbody",null,[(t(!0),n(y,null,f(e.items,(l,p)=>(t(),n("tr",{key:p},[(t(!0),n(y,null,f(e.columns,(c,C)=>(t(),n("td",{key:C},_(c?.type==="date"?u.toFormatDate(l[c?.key]):c?.type==="boolean"?l[c?.key]?"Ativo":"Inativo":l[c?.key]),1))),128)),o.$slots.actions?(t(),n("td",J,[w(o.$slots,"actions",{item:l},void 0)])):r("",!0)]))),128))]),e.loading?(t(),n("tbody",K,[a("tr",null,[a("td",{colspan:e.columns.length+(o.$slots.actions?1:0)},[k(h,{class:"loader",icon:"svg-spinners:3-dots-scale"})],8,O)])])):r("",!0),e.loadMore?(t(),n("tfoot",P,[a("tr",null,[a("td",{colspan:e.columns?.length+(o.$slots.actions?1:0)},[e.loading?r("",!0):(t(),F(B,{key:0,class:"primary",onClick:s[2]||(s[2]=l=>o.$emit("onLoadMore"))},{default:N(()=>s[3]||(s[3]=[j(" Carregar mais ")])),_:1}))],8,Q)])])):r("",!0)])])}const ee=V(S,[["render",R],["__scopeId","data-v-8895807e"]]);export{ee as D};
