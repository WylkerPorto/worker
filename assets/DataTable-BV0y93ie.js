import{I,_ as v,c as s,a,e as b,n as M,r as i,o as n,u as j,b as r,t as f,g as w,F as y,i as S,j as D,h as A,w as F,f as L}from"./index-KmYJkn1P.js";import{h as N,M as $}from"./moment-BbERYvEN.js";const tt=t=>{const e=Object.fromEntries(Object.entries(t).filter(([o,c])=>c!=null));return new URLSearchParams(e).toString()},E=t=>t?N(t).format("L"):"",T={name:"SearchInput",props:{placeholder:{type:String,default:""},modelValue:{type:String,default:""}},emits:["update:modelValue"],components:{Icon:I},methods:{focus(){this.$refs?.input?.focus()},blur(){this.$refs?.input?.blur()},select(){this.$refs?.input?.select()}}},O=["placeholder","value"];function P(t,e,o,c,u,d){const m=i("Icon");return n(),s("main",null,[a("input",{type:"search",placeholder:o.placeholder,value:o.modelValue,class:M({show:o.modelValue}),onInput:e[0]||(e[0]=h=>t.$emit("update:modelValue",h?.target?.value)),ref:"input"},null,42,O),b(m,{icon:"bi:search"})])}const U=v(T,[["render",P],["__scopeId","data-v-fa66c7c8"]]),g={name:"DataTableComponent",data(){return{toFormatDate:E,search:""}},props:{items:{type:Array},columns:{type:Array},total:{type:Number},loading:{type:Boolean,default:!1},loadMore:{type:Boolean,default:!1}},components:{SearchInput:U,Icon:I,MyButton:$},emits:["onSearch","onLoadMore"],methods:{handleSearch(){this.$emit("onSearch",this.search)}},computed:{justifyWasAction(){return this.total?"space-between":"end"}}},k=()=>{j(t=>({"184109d2":t.justifyWasAction}))},V=g.setup;g.setup=V?(t,e)=>(k(),V(t,e)):k;const W={class:"data-table"},z=["colspan"],Q={key:0},R={class:"header"},q={key:0},x={key:0,class:"actions"},G={key:0},H=["colspan"],J={key:1},K=["colspan"];function X(t,e,o,c,u,d){const m=i("SearchInput"),h=i("Icon"),B=i("MyButton");return n(),s("main",W,[a("table",null,[a("thead",null,[a("tr",null,[a("th",{colspan:o.columns.length+(t.$slots.actions?1:0)},[a("section",null,[o.total?(n(),s("span",Q,"#"+f(o.total),1)):r("",!0),a("form",{action:"#",onSubmit:e[1]||(e[1]=w((...l)=>d.handleSearch&&d.handleSearch(...l),["stop","prevent"]))},[b(m,{modelValue:u.search,"onUpdate:modelValue":e[0]||(e[0]=l=>u.search=l)},null,8,["modelValue"])],32)])],8,z)]),a("tr",R,[(n(!0),s(y,null,S(o.columns,(l,_)=>(n(),s("th",{key:_},f(l?.title),1))),128)),t.$slots.actions?(n(),s("th",q,"Ações")):r("",!0)])]),a("tbody",null,[(n(!0),s(y,null,S(o.items,(l,_)=>(n(),s("tr",{key:_},[(n(!0),s(y,null,S(o.columns,(p,C)=>(n(),s("td",{key:C},f(p?.type==="date"?u.toFormatDate(l[p?.key]):l[p?.key]),1))),128)),t.$slots.actions?(n(),s("td",x,[D(t.$slots,"actions",{item:l},void 0)])):r("",!0)]))),128))]),o.loading?(n(),s("tbody",G,[a("tr",null,[a("td",{colspan:o.columns.length+(t.$slots.actions?1:0)},[b(h,{class:"loader",icon:"svg-spinners:3-dots-scale"})],8,H)])])):r("",!0),o.loadMore?(n(),s("tfoot",J,[a("tr",null,[a("td",{colspan:o.columns?.length+(t.$slots.actions?1:0)},[o.loading?r("",!0):(n(),A(B,{key:0,class:"primary",onClick:e[2]||(e[2]=l=>t.$emit("onLoadMore"))},{default:F(()=>e[3]||(e[3]=[L(" Carregar mais ")])),_:1}))],8,K)])])):r("",!0)])])}const et=v(g,[["render",X],["__scopeId","data-v-4b7b2faf"]]);export{et as D,tt as t};
