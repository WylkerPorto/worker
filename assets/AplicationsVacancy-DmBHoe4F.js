import{g as n}from"./aplication-D-9Si2EU.js";import{g as r}from"./vacancy-B2n0AnwW.js";import{D as l}from"./DataTable-DTdJEoNs.js";import{_ as c,c as h,a as e,e as p,t as o,r as m,o as d}from"./index-BBRSQRce.js";import"./http-C1CqThx4.js";import"./conversors-BXIEm-hF.js";import"./SearchInput-Dz10qtPx.js";import"./MyButton-CPGQxF9f.js";const g={name:"AplicationsVacancy",components:{DataTable:l},data(){return{vaga:{},items:[],columns:[{key:"person.name",title:"Nome"},{key:"person.email",title:"Email"},{key:"status",title:"Estado"},{key:"createdAt",title:"Criado em",type:"date"}],loading:!1,total:0,page:1,search:""}},mounted(){this.getAplicationsByVacancy(),this.getVacancyDetail()},methods:{async getAplicationsByVacancy(){this.loading=!0;try{const a=await n(this.$route.params.id,this.filters);this.items.push(...a.data.data),this.total=a.data.meta.total}catch(a){this.$snotify.error(a)}finally{this.loading=!1}},async getVacancyDetail(){this.loading=!0;try{const a=await r(this.$route.params.id);this.vaga=a.data}catch(a){this.$snotify.error(a)}finally{this.loading=!1}},handleLoadMore(){this.page++,this.getAplicationsByVacancy()},handleSearch(a){this.search=a,this.page=1,this.items=[],this.getAplicationsByVacancy()}},computed:{filters(){return{page:this.page,search:this.search}},loadMore(){return this.page<this.total}}},y={class:"card"};function u(a,f,_,V,t,s){const i=m("DataTable");return d(),h("main",null,[e("section",y,[e("header",null,[e("h1",null,"Candidatos a vaga "+o(t.vaga.title),1),e("span",null,o(t.vaga.workModel)+" - "+o(t.vaga.employmentType),1),e("p",null,o(t.vaga.description),1)]),p(i,{items:t.items,columns:t.columns,loading:t.loading,total:t.total,loadMore:s.loadMore,onOnLoadMore:s.handleLoadMore,onOnSearch:s.handleSearch},null,8,["items","columns","loading","total","loadMore","onOnLoadMore","onOnSearch"])])])}const L=c(g,[["render",u],["__scopeId","data-v-13b96ae4"]]);export{L as default};
