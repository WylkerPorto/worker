import{S as B}from"./SearchInput-B9aETNtM.js";import{I as C,u as w,_ as A,c as n,a as s,d as r,F as m,i as h,t as i,h as D,e as d,r as k,k as F,g as I,w as b,f as M,o as e}from"./index-Mu0760Vm.js";import{t as j}from"./conversors-CKfFtFQ4.js";import{M as T}from"./MyButton-CAWIgk02.js";const P={name:"DataTableComponent",data(){return{toFormatDate:j,search:""}},props:{items:{type:Array},columns:{type:Array},totalItems:{type:Number},loading:{type:Boolean,default:!1},totalPage:{type:Number,default:0},currentPage:{type:Number,default:1}},components:{SearchInput:B,Icon:C,MyButton:T},emits:["onSearch","onNextPage","onPreviousPage"],methods:{handleSearch(){this.$emit("onSearch",this.search)},getNestedValue(o,l){return l.split(".").reduce((t,S)=>t?.[S],o)}},computed:{justifyWasAction(){return this.totalItems?"space-between":"end"}}},v=()=>{w(o=>({"174f28d9":o.justifyWasAction}))},N=P.setup;P.setup=N?(o,l)=>(v(),N(o,l)):v;const E={class:"data-table"},W={key:0,style:{width:"auto"}},L=["colspan"],U={key:0},q={class:"header"},x={key:0},z={key:0,class:"actions"},G={key:0},H=["colspan"],J={key:1},K=["colspan"],O={class:"pagination"};function Q(o,l,t,S,_,g){const V=k("SearchInput"),y=k("Icon"),f=k("MyButton");return e(),n("main",E,[s("table",null,[s("colgroup",null,[(e(!0),n(m,null,h(t.columns,(a,u)=>(e(),n("col",{key:u,style:{width:"1fr"}}))),128)),o.$slots.actions?(e(),n("col",W)):r("",!0)]),s("thead",null,[s("tr",null,[s("th",{colspan:t.columns.length+(o.$slots.actions?1:0)},[s("section",null,[t.totalItems?(e(),n("span",U,"#"+i(t.totalItems),1)):r("",!0),s("form",{action:"#",onSubmit:l[1]||(l[1]=D((...a)=>g.handleSearch&&g.handleSearch(...a),["stop","prevent"]))},[d(V,{modelValue:_.search,"onUpdate:modelValue":l[0]||(l[0]=a=>_.search=a)},null,8,["modelValue"])],32)])],8,L)]),s("tr",q,[(e(!0),n(m,null,h(t.columns,(a,u)=>(e(),n("th",{key:u},i(a?.title),1))),128)),o.$slots.actions?(e(),n("th",x,"Ações")):r("",!0)])]),s("tbody",null,[(e(!0),n(m,null,h(t.items,(a,u)=>(e(),n("tr",{key:u},[(e(!0),n(m,null,h(t.columns,(c,p)=>(e(),n("td",{key:p},i(c?.type==="date"?_.toFormatDate(a[c?.key]):c?.type==="boolean"?a[c?.key]?"Ativo":"Inativo":g.getNestedValue(a,c?.key)),1))),128)),o.$slots.actions?(e(),n("td",z,[F(o.$slots,"actions",{item:a},void 0)])):r("",!0)]))),128))]),t.loading?(e(),n("tbody",G,[s("tr",null,[s("td",{colspan:t.columns.length+(o.$slots.actions?1:0)},[d(y,{class:"loader",icon:"svg-spinners:3-dots-scale"})],8,H)])])):r("",!0),t.totalPage>1&&!t.loading?(e(),n("tfoot",J,[s("tr",null,[s("td",{colspan:t.columns?.length+(o.$slots.actions?1:0)},[s("div",O,[t.currentPage>1?(e(),I(f,{key:0,loading:t.loading,class:"light",onClick:l[2]||(l[2]=a=>o.$emit("onPreviousPage"))},{default:b(()=>[d(y,{icon:"icons8:left-round"})]),_:1},8,["loading"])):r("",!0),d(f,{class:"light",disabled:""},{default:b(()=>[M(i(t.currentPage)+" / "+i(t.totalPage),1)]),_:1}),t.currentPage<t.totalPage?(e(),I(f,{key:1,loading:t.loading,class:"light",onClick:l[3]||(l[3]=a=>o.$emit("onNextPage"))},{default:b(()=>[d(y,{icon:"icons8:right-round"})]),_:1},8,["loading"])):r("",!0)])],8,K)])])):r("",!0)])])}const $=A(P,[["render",Q],["__scopeId","data-v-00d32cb6"]]);export{$ as D};
