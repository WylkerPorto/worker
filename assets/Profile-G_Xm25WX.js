import{h as b,F as N,c as A,a as c,b as O,d as I,e as j}from"./http-zF2HLkK1.js";import{M as T}from"./SwitchButton-k0HuSJOb.js";import{I as B,_ as E,c as y,a as s,b as V,t as v,n as _,e as l,r as m,F as k,i as S,g as D,o as p,k as q,v as K,j as Q,h as w,w as u,f as C,l as G}from"./index-S2YWwiI0.js";import{M as U}from"./MyButton-fnZB6PDp.js";import{M as F,a as X}from"./ModalBase-Clh2595y.js";import{g as Y,u as Z}from"./user-B2XpGts5.js";const $={name:"MySelect",props:{modelValue:{type:[String,Number,null],required:!0},options:{type:Array,required:!0},label:{type:String,required:!1},error:{type:String,required:!1}},data(){return{isOpen:!1}},components:{Icon:B},computed:{selectedOptionTitle(){const r=this.options.find(e=>e.id===this.modelValue);return r?r.title:null}},mounted(){document.addEventListener("click",this.handleClickOutside)},beforeUnmount(){document.removeEventListener("click",this.handleClickOutside)},methods:{toggleDropdown(){this.isOpen=!this.isOpen},selectOption(r){this.$emit("update:modelValue",r.id),this.isOpen=!1},handleClickOutside(r){this.$el.contains(r.target)||(this.isOpen=!1)}}},ee={class:"wrapper"},oe={key:0,class:"label"},re={class:"value"},te={key:1,class:"dropdown"},le=["onClick"],se={key:0,class:"error"};function ie(r,e,a,h,o,d){const n=m("Icon");return p(),y("main",null,[s("div",ee,[a.label?(p(),y("label",oe,v(a.label),1)):V("",!0),s("div",{class:_(["select",{error:!!a.error}]),onClick:e[0]||(e[0]=(...g)=>d.toggleDropdown&&d.toggleDropdown(...g))},[s("span",re,v(d.selectedOptionTitle||"Selecione"),1),s("span",{class:_(["arrow",{open:o.isOpen}])},[l(n,{icon:"bx:down-arrow"})],2)],2),o.isOpen?(p(),y("ul",te,[(p(!0),y(k,null,S(a.options,g=>(p(),y("li",{key:g.id,onClick:D(x=>d.selectOption(g),["stop"]),class:_(["option",{selected:g.id===a.modelValue}])},v(g.title),11,le))),128))])):V("",!0)]),a.error?(p(),y("span",se,v(a.error),1)):V("",!0)])}const W=E($,[["render",ie],["__scopeId","data-v-441006b1"]]),ae={name:"MyAccordeon",props:{title:{type:String,required:!0},isOpen:{type:Boolean,default:!1}},data(){return{expanded:!1}},components:{Icon:B},mounted(){this.expanded=this.isOpen},methods:{toggle(){this.expanded=!this.expanded}}},ne={class:"accordeon"},de={class:"title"},ue={class:"body"};function me(r,e,a,h,o,d){const n=m("Icon");return p(),y("div",ne,[s("div",{class:_(["header",{expanded:o.expanded}]),onClick:e[0]||(e[0]=(...g)=>d.toggle&&d.toggle(...g))},[s("span",de,v(a.title),1),l(n,{icon:"bx:down-arrow"})],2),q(s("div",ue,[Q(r.$slots,"default",{},void 0)],512),[[K,o.expanded]])])}const ce=E(ae,[["render",me],["__scopeId","data-v-e0d60593"]]),pe=(r,e)=>b.authApi().post(`/person/${r}/graduation`,e),fe=r=>b.authApi().get(`/person/${r}/graduation`),he=(r,e,a)=>b.authApi().put(`/person/${r}/graduation/${e}`,a),ge=(r,e)=>b.authApi().delete(`/person/${r}/graduation/${e}`),ye=()=>b.authApi().get("/filter/disability"),be=()=>b.authApi().get("/filter/gender"),ve=()=>b.authApi().get("/filter/maritalstatus"),xe=()=>b.authApi().get("/filter/nationality"),Ce=()=>b.authApi().get("/filter/education-level"),Ve=()=>b.authApi().get("/filter/education-status"),Ee=()=>b.authApi().get("/filter/language-level"),Me={name:"GraduationModal",components:{ModalBase:F,FormInput:N,MyButton:U,MySelect:W},props:{show:{type:Boolean,default:!1},dataForm:{type:Object}},emits:["onClose","onSave"],data(){return{form:{},errors:{},loading:!1,educationLevels:[],educationStatus:[]}},watch:{dataForm(){this.dataForm?this.form={...this.form,...this.dataForm}:this.form={}}},async mounted(){try{const r=await Ce(),e=await Ve();this.educationLevels=r.data.map(a=>({id:a.title,title:a.title})),this.educationStatus=e.data.map(a=>({id:a.title,title:a.title}))}catch(r){this.$snotify.error("Erro ao carregar os níveis e status de educação: "+r)}},methods:{validate(){A({institutionName:c().required("Nome da instituição é obrigatório"),courseName:c().required("Nome do curso é obrigatório"),educationLevel:c().oneOf(this.educationLevels.map(e=>e.title),"Nível inválido").required("Nível é obrigatório"),status:c().oneOf(this.educationStatus.map(e=>e.title),"Status inválido").required("Status é obrigatório"),startDate:c().required("Data de início é obrigatória"),endDate:c().required("Data de conclusão é obrigatória")}).validate(this.form,{abortEarly:!1}).then(()=>{this.errors={},this.saveGraduation()}).catch(e=>{const a={};e.inner.forEach(h=>{a[h.path]=h.message}),this.errors=a})},async saveGraduation(){this.loading=!0;try{const r=!!this.form.id,e=localStorage.getItem("uid");r&&(delete this.form.id,delete this.form.createdAt,delete this.form.updatedAt,delete this.form.deletedAt),r?await he(e,this.dataForm.id,this.form):await pe(e,this.form),this.$snotify.success(`Graduação ${r?"atualizada":"criada"} com sucesso`),this.$emit("onSave"),this.closeModal()}catch(r){this.$snotify.error("Erro ao salvar a graduação: "+r)}finally{this.loading=!1}},closeModal(){this.form={},this.errors={},this.$emit("onClose")}},computed:{levelList(){return this.educationLevels.map(r=>({id:r.id,title:r.title}))},statusList(){return this.educationStatus.map(r=>({id:r.id,title:r.title}))}}},ke={class:"flex"};function De(r,e,a,h,o,d){const n=m("FormInput"),g=m("MySelect"),x=m("MyButton"),f=m("ModalBase");return p(),w(f,{open:a.show,loading:o.loading,title:"Nova Graduação",onOnClose:e[7]||(e[7]=i=>r.$emit("onClose"))},{content:u(()=>[s("form",{onSubmit:e[6]||(e[6]=D((...i)=>d.validate&&d.validate(...i),["prevent"]))},[l(n,{label:"Instituição",type:"text",placeholder:"Universidade do Estado de São Paulo",modelValue:o.form.institutionName,"onUpdate:modelValue":e[0]||(e[0]=i=>o.form.institutionName=i),error:o.errors.institutionName,required:""},null,8,["modelValue","error"]),l(n,{label:"Curso",type:"text",placeholder:"Ciência da Computação",modelValue:o.form.courseName,"onUpdate:modelValue":e[1]||(e[1]=i=>o.form.courseName=i),error:o.errors.courseName,required:""},null,8,["modelValue","error"]),l(g,{label:"Nível",options:d.levelList,modelValue:o.form.educationLevel,"onUpdate:modelValue":e[2]||(e[2]=i=>o.form.educationLevel=i),error:o.errors.educationLevel,required:""},null,8,["options","modelValue","error"]),l(g,{label:"Status",options:d.statusList,modelValue:o.form.status,"onUpdate:modelValue":e[3]||(e[3]=i=>o.form.status=i),error:o.errors.status,required:""},null,8,["options","modelValue","error"]),s("div",ke,[l(n,{label:"Data de inicio",type:"date",modelValue:o.form.startDate,"onUpdate:modelValue":e[4]||(e[4]=i=>o.form.startDate=i),error:o.errors.startDate,required:""},null,8,["modelValue","error"]),l(n,{label:"Data de conclusão",type:"date",modelValue:o.form.endDate,"onUpdate:modelValue":e[5]||(e[5]=i=>o.form.endDate=i),error:o.errors.endDate,required:""},null,8,["modelValue","error"])])],32)]),actions:u(()=>[l(x,{class:"btn success",loading:o.loading,onClick:d.validate},{default:u(()=>e[8]||(e[8]=[C("Salvar")])),_:1},8,["loading","onClick"])]),_:1},8,["open","loading"])}const we=E(Me,[["render",De],["__scopeId","data-v-f83a6b7e"]]),Ue=(r,e)=>b.authApi().post(`/person/${r}/complementary-course`,e),Se=r=>b.authApi().get(`/person/${r}/complementary-course`),_e=(r,e,a)=>b.authApi().put(`/person/${r}/complementary-course/${e}`,a),Ne=(r,e)=>b.authApi().delete(`/person/${r}/complementary-course/${e}`),Ae={name:"CoursesModal",components:{ModalBase:F,FormInput:N,MyButton:U},props:{show:{type:Boolean,default:!1},dataForm:{type:Object}},emits:["onClose","onSave"],data(){return{form:{},errors:{},loading:!1}},watch:{dataForm(){this.dataForm?this.form={...this.form,...this.dataForm}:this.form={}}},methods:{validate(){A({institutionName:c().required("Nome da instituição é obrigatório"),courseName:c().required("Nome do curso é obrigatório"),durationHours:I().typeError("Duração deve ser um número").positive("Duração deve ser um número positivo").nullable(),completionDate:O().typeError("Data de conclusão deve ser uma data válida").nullable(),certificateUrl:c().url("URL do certificado deve ser uma URL válida").nullable(),description:c().nullable()}).validate(this.form,{abortEarly:!1}).then(()=>{this.errors={},this.saveCourse()}).catch(e=>{const a={};e.inner.forEach(h=>{a[h.path]=h.message}),this.errors=a})},async saveCourse(){this.loading=!0;try{const r=!!this.form.id,e=localStorage.getItem("uid");r&&(delete this.form.id,delete this.form.createdAt,delete this.form.updatedAt,delete this.form.deletedAt),r?await _e(e,this.dataForm.id,this.form):await Ue(e,this.form),this.$snotify.success(`Curso ${r?"atualizada":"criada"} com sucesso`),this.$emit("onSave"),this.closeModal()}catch(r){this.$snotify.error("Erro ao salvar curso: "+r)}finally{this.loading=!1}},closeModal(){this.form={},this.errors={},this.$emit("onClose")}}},Fe={class:"flex"};function qe(r,e,a,h,o,d){const n=m("FormInput"),g=m("MyButton"),x=m("ModalBase");return p(),w(x,{open:a.show,loading:o.loading,title:"Novo Curso",onOnClose:e[7]||(e[7]=f=>r.$emit("onClose"))},{content:u(()=>[s("form",{onSubmit:e[6]||(e[6]=D((...f)=>d.validate&&d.validate(...f),["prevent"]))},[l(n,{label:"Instituição",type:"text",placeholder:"Universidade do Estado de São Paulo",modelValue:o.form.institutionName,"onUpdate:modelValue":e[0]||(e[0]=f=>o.form.institutionName=f),error:o.errors.institutionName,required:""},null,8,["modelValue","error"]),l(n,{label:"Nome do Curso",type:"text",placeholder:"Ciência da Computação",modelValue:o.form.courseName,"onUpdate:modelValue":e[1]||(e[1]=f=>o.form.courseName=f),error:o.errors.courseName,required:""},null,8,["modelValue","error"]),s("div",Fe,[l(n,{label:"Horas de Duração",type:"number",modelValue:o.form.durationHours,"onUpdate:modelValue":e[2]||(e[2]=f=>o.form.durationHours=f),error:o.errors.durationHours},null,8,["modelValue","error"]),l(n,{label:"Data de conclusão",type:"date",modelValue:o.form.completionDate,"onUpdate:modelValue":e[3]||(e[3]=f=>o.form.completionDate=f),error:o.errors.completionDate},null,8,["modelValue","error"])]),l(n,{label:"Url do Certificado",type:"text",placeholder:"https://example.com/certificado",modelValue:o.form.certificateUrl,"onUpdate:modelValue":e[4]||(e[4]=f=>o.form.certificateUrl=f),error:o.errors.certificateUrl},null,8,["modelValue","error"]),q(s("textarea",{class:"textarea","onUpdate:modelValue":e[5]||(e[5]=f=>o.form.description=f),placeholder:"Descrição do curso",rows:"7"},null,512),[[G,o.form.description]])],32)]),actions:u(()=>[l(g,{class:"btn success",loading:o.loading,onClick:d.validate},{default:u(()=>e[8]||(e[8]=[C("Salvar")])),_:1},8,["loading","onClick"])]),_:1},8,["open","loading"])}const Le=E(Ae,[["render",qe],["__scopeId","data-v-d1a1a96e"]]),Oe=(r,e)=>b.authApi().post(`/person/${r}/languageskill`,e),Ie=r=>b.authApi().get(`/person/${r}/languageskill`),Be=(r,e,a)=>b.authApi().put(`/person/${r}/languageskill/${e}`,a),Ge=(r,e)=>b.authApi().delete(`/person/${r}/languageskill/${e}`),We={name:"LanguageModal",components:{ModalBase:F,MyButton:U,FormInput:N,MySelect:W},props:{show:{type:Boolean,default:!1},dataForm:{type:Object}},emits:["onClose","onSave"],data(){return{form:{},errors:{},loading:!1,languageStatus:[]}},watch:{dataForm(){this.dataForm?this.form={...this.form,...this.dataForm}:this.form={}}},async mounted(){try{const r=await Ee();this.languageStatus=r.data}catch(r){this.$snotify.error("Erro ao carregar os níveis de proficiência: "+r)}},methods:{validate(){A().shape({language:c().required("O nome do idioma é obrigatório"),level:c().oneOf(this.languageStatus.map(e=>e.title),"Nível inválido").required("O nível de proficiência é obrigatório"),certificateUrl:c().url("URL do certificado deve ser uma URL válida").nullable()}).validate(this.form,{abortEarly:!1}).then(()=>{this.errors={},this.saveLanguage()}).catch(e=>{const a={};e.inner.forEach(h=>{a[h.path]=h.message}),this.errors=a})},async saveLanguage(){this.loading=!0;try{const r=!!this.form.id,e=localStorage.getItem("uid");r&&(delete this.form.id,delete this.form.createdAt,delete this.form.updatedAt,delete this.form.deletedAt),r?await Be(e,this.dataForm.id,this.form):await Oe(e,this.form),this.$snotify.success(`Idioma ${r?"atualizado":"criado"} com sucesso`),this.$emit("onSave"),this.closeModal()}catch(r){this.$snotify.error("Erro ao salvar idioma:",r)}finally{this.loading=!1}},closeModal(){this.form={},this.errors={},this.$emit("onClose")}},computed:{statusList(){return this.languageStatus.map(r=>({id:r.title,title:r.title}))}}},Te={class:"flex"};function Pe(r,e,a,h,o,d){const n=m("FormInput"),g=m("MySelect"),x=m("MyButton"),f=m("ModalBase");return p(),w(f,{open:a.show,onOnClose:e[4]||(e[4]=i=>r.$emit("onClose")),title:"Novo Idioma"},{content:u(()=>[s("form",{onSubmit:e[3]||(e[3]=D((...i)=>d.validate&&d.validate(...i),["prevent"]))},[s("div",Te,[l(n,{label:"Nome do Idioma",type:"text",placeholder:"Português",modelValue:o.form.language,"onUpdate:modelValue":e[0]||(e[0]=i=>o.form.language=i),error:o.errors.language,required:""},null,8,["modelValue","error"]),l(g,{label:"Nível de Proficiência",options:d.statusList,modelValue:o.form.level,"onUpdate:modelValue":e[1]||(e[1]=i=>o.form.level=i),error:o.errors.level,required:""},null,8,["options","modelValue","error"])]),l(n,{label:"Url do Certificado",type:"text",placeholder:"https://example.com/certificado",modelValue:o.form.certificateUrl,"onUpdate:modelValue":e[2]||(e[2]=i=>o.form.certificateUrl=i),error:o.errors.certificateUrl,required:""},null,8,["modelValue","error"])],32)]),actions:u(()=>[l(x,{class:"btn success",loading:o.loading,onClick:d.validate},{default:u(()=>e[5]||(e[5]=[C("Salvar")])),_:1},8,["loading","onClick"])]),_:1},8,["open"])}const Je=E(We,[["render",Pe],["__scopeId","data-v-248c6518"]]),He=(r,e)=>b.authApi().post(`/person/${r}/work-experience`,e),Re=r=>b.authApi().get(`/person/${r}/work-experience`),ze=(r,e,a)=>b.authApi().put(`/person/${r}/work-experience/${e}`,a),je=(r,e)=>b.authApi().delete(`/person/${r}/work-experience/${e}`),Ke={name:"WorkExperienceModal",components:{ModalBase:F,FormInput:N,MyButton:U,SwitchButton:T},props:{show:{type:Boolean,default:!1},dataForm:{type:Object}},emits:["onClose","onSave"],data(){return{form:{},errors:{},loading:!1}},watch:{dataForm(){this.dataForm?this.form={...this.form,...this.dataForm}:this.form={isCurrentJob:!1}}},created(){this.form={isCurrentJob:!1}},methods:{validate(){A({position:c().required("Cargo é obrigatório"),department:c().required("Departamento é obrigatório"),companyName:c().required("Empresa é obrigatória"),startDate:O().required("Data de início é obrigatória"),endDate:O().nullable().transform((e,a)=>a===""?null:e),description:c().required("Descrição é obrigatória"),salary:I().min(0,"Salário deve ser um número positivo").nullable(),employmentType:c().required("Tipo de contratação é obrigatório"),isCurrentJob:j().required("Status de trabalho atual é obrigatório")}).validate(this.form,{abortEarly:!1}).then(()=>{this.errors={},this.saveWork()}).catch(e=>{const a={};e.inner.forEach(h=>{a[h.path]=h.message}),this.errors=a})},async saveWork(){this.loading=!0;try{const r=!!this.form.id,e=localStorage.getItem("uid");r&&(delete this.form.id,delete this.form.createdAt,delete this.form.updatedAt,delete this.form.deletedAt),r?await ze(e,this.dataForm.id,this.form):await He(e,this.form),this.$snotify.success(`Experiência ${r?"atualizada":"criada"} com sucesso!`),this.$emit("onSave"),this.closeModal()}catch(r){console.error("Erro ao salvar experiência:",r)}finally{this.loading=!1}},closeModal(){this.form={isCurrentJob:!1},this.errors={},this.$emit("onClose")}}},Qe={class:"flex"},Xe={class:"switch"},Ye={class:"flex"};function Ze(r,e,a,h,o,d){const n=m("FormInput"),g=m("SwitchButton"),x=m("MyButton"),f=m("ModalBase");return p(),w(f,{open:a.show,loading:o.loading,title:"Nova Experiência Profissional",onOnClose:e[10]||(e[10]=i=>r.$emit("onClose"))},{content:u(()=>[s("form",{onSubmit:e[9]||(e[9]=D((...i)=>d.validate&&d.validate(...i),["prevent"]))},[l(n,{label:"Cargo",type:"text",placeholder:"Nome do Cargo",modelValue:o.form.position,"onUpdate:modelValue":e[0]||(e[0]=i=>o.form.position=i),error:o.errors.position,required:""},null,8,["modelValue","error"]),l(n,{label:"Departamento",type:"text",placeholder:"Nome do Departamento",modelValue:o.form.department,"onUpdate:modelValue":e[1]||(e[1]=i=>o.form.department=i),error:o.errors.department,required:""},null,8,["modelValue","error"]),l(n,{label:"Empresa",type:"text",placeholder:"Nome da Empresa",modelValue:o.form.companyName,"onUpdate:modelValue":e[2]||(e[2]=i=>o.form.companyName=i),error:o.errors.companyName,required:""},null,8,["modelValue","error"]),s("div",Qe,[l(n,{label:"Data de Início",type:"date",modelValue:o.form.startDate,"onUpdate:modelValue":e[3]||(e[3]=i=>o.form.startDate=i),error:o.errors.startDate,required:""},null,8,["modelValue","error"]),l(n,{label:"Data de Término",type:"date",modelValue:o.form.endDate,"onUpdate:modelValue":e[4]||(e[4]=i=>o.form.endDate=i),error:o.errors.endDate},null,8,["modelValue","error"]),s("div",Xe,[e[11]||(e[11]=s("label",null,"Atualmente Trabalhando",-1)),l(g,{modelValue:o.form.isCurrentJob,"onUpdate:modelValue":e[5]||(e[5]=i=>o.form.isCurrentJob=i),required:""},null,8,["modelValue"])])]),s("div",Ye,[l(n,{label:"Tipo de Contratação",type:"text",placeholder:"full-time, part-time, freelance",modelValue:o.form.employmentType,"onUpdate:modelValue":e[6]||(e[6]=i=>o.form.employmentType=i),error:o.errors.employmentType,required:""},null,8,["modelValue","error"]),l(n,{label:"Salário",type:"number",placeholder:"Informe seu salário",modelValue:o.form.salary,"onUpdate:modelValue":e[7]||(e[7]=i=>o.form.salary=i),modelModifiers:{number:!0},error:o.errors.salary},null,8,["modelValue","error"])]),s("div",null,[q(s("textarea",{class:_(["textarea",{error:o.errors.description}]),"onUpdate:modelValue":e[8]||(e[8]=i=>o.form.description=i),placeholder:"Descreva suas responsabilidades e conquistas",rows:"5"},null,2),[[G,o.form.description]]),s("span",null,v(o.errors.description),1)])],32)]),actions:u(()=>[l(x,{class:"btn success",loading:o.loading,onClick:d.validate},{default:u(()=>e[12]||(e[12]=[C("Salvar")])),_:1},8,["loading","onClick"])]),_:1},8,["open","loading"])}const $e=E(Ke,[["render",Ze],["__scopeId","data-v-b6823263"]]),eo={name:"DeleteConfirmationModal",props:{show:{type:Boolean,required:!0}},emits:["onClose","onConfirm"],components:{ModalBase:F,MyButton:U}};function oo(r,e,a,h,o,d){const n=m("MyButton"),g=m("ModalBase");return p(),w(g,{open:a.show,title:"Confirmação de Exclusão",onOnClose:e[2]||(e[2]=x=>r.$emit("onClose"))},{content:u(()=>e[3]||(e[3]=[s("p",null,"Você tem certeza que deseja excluir este item?",-1),s("p",null,"Esta ação não pode ser desfeita.",-1)])),actions:u(()=>[l(n,{class:"btn danger",onClick:e[0]||(e[0]=x=>r.$emit("onConfirm"))},{default:u(()=>e[4]||(e[4]=[C("Excluir")])),_:1}),l(n,{class:"btn secondary",onClick:e[1]||(e[1]=x=>r.$emit("onClose"))},{default:u(()=>e[5]||(e[5]=[C("Cancelar")])),_:1})]),_:1},8,["open"])}const ro=E(eo,[["render",oo]]),to={name:"UserCurriculum",data(){return{toFormatDate:X,id:null,form:{name:"",email:"",password:"",cpf:"",rg:"",cnh:"",typeCnh:"",hasDisability:!1,typeDisability:"",gender:"",maritalStatusId:null,nationality:"",phoneNumber:"",phoneNumber2:"",availableToTravel:!1,salaryClaim:null,firstJob:!1,presentation:"",postalCode:"",street:"",number:null,complement:"",neighborhood:"",city:"",state:"",country:"",facebookUrl:"",instagramUrl:"",linkedinUrl:"",personalUrl:""},disabilities:[],genders:[],maritalStatus:[],nationalities:[],graduations:[],courses:[],languages:[],workExperiences:[],errors:{},loading:!1,showGraduationModal:!1,selectedGraduation:null,showCoursesModal:!1,selectedCourse:null,showDeleteModal:!1,selectedLanguage:null,showLanguageModal:!1,showWorkExperienceModal:!1,selectedWorkExperience:null}},components:{FormInput:N,MySwitch:T,MySelect:W,MyButton:U,MyAccordeon:ce,GraduationModal:we,CoursesModal:Le,LanguageModal:Je,WorkExperienceModal:$e,DeleteConfirmationModal:ro,Icon:B},watch:{"form.hasDisability"(r){r||(this.form.typeDisability="")}},created(){this.id=localStorage.getItem("uid")},mounted(){this.loadFilters(),this.loadData(),this.loadGraduations(),this.loadCourses(),this.loadLanguages(),this.loadWorkExperiences()},methods:{validate(){A({name:c().min(3,"Nome deve ter pelo menos 3 caracteres").required("Nome é obrigatório"),email:c().email("E-mail inválido").required("E-mail é obrigatório"),gender:c().min(1,"Selecione um sexo").required("Sexo é obrigatório"),maritalStatus:c().min(1,"Selecione um estado civil").required("Estado civil é obrigatório"),nationality:c().min(1,"Selecione uma nacionalidade").required("Nacionalidade é obrigatória"),phoneNumber:c().min(10,"Telefone inválido").required("Telefone é obrigatório"),postalCode:c().min(8,"CEP inválido").required("CEP é obrigatório"),street:c().min(3,"Rua deve ter pelo menos 3 caracteres").required("Rua é obrigatória"),number:I().typeError("Número deve ser um número").required("Número é obrigatório"),neighborhood:c().min(3,"Bairro deve ter pelo menos 3 caracteres").required("Bairro é obrigatório"),city:c().min(3,"Cidade deve ter pelo menos 3 caracteres").required("Cidade é obrigatória"),state:c().min(2,"Estado deve ter pelo menos 2 caracteres").required("Estado é obrigatório"),country:c().min(3,"País deve ter pelo menos 3 caracteres").required("País é obrigatório")}).validate(this.form,{abortEarly:!1}).then(()=>{this.errors={},this.submitForm()}).catch(e=>{const a={};e.inner.forEach(h=>{a[h.path]=h.message}),this.errors=a})},async submitForm(){this.loading=!0;try{delete this.form.id,delete this.form.password,delete this.form.createdAt,delete this.form.updatedAt,delete this.form.deletedAt,await Z(this.id,this.form),this.$snotify.success("Perfil atualizado com sucesso!")}catch(r){console.log(r)}finally{this.loading=!1}},async loadFilters(){try{const r=await ye(),e=await be(),a=await ve(),h=await xe();this.disabilities=r.data.map(o=>({id:o.title,title:o.title})),this.genders=e.data.map(o=>({id:o.title,title:o.title})),this.maritalStatus=a.data.map(o=>({id:o.id,title:o.title})),this.nationalities=h.data.map(o=>({id:o.title,title:o.title}))}catch(r){console.error("Error loading filters:",r)}},async loadData(){try{const r=await Y(this.id);this.form={...this.form,...r.data,hasDisability:!!r.data.hasDisability,availableToTravel:!!r.data.availableToTravel,firstJob:!!r.data.firstJob}}catch(r){console.error("Error loading data:",r)}},async loadGraduations(){try{this.closeModals();const r=await fe(this.id);this.graduations=r.data}catch(r){this.$snotify.error("Erro ao carregar graduação:",r)}},editGraduation(r){this.selectedGraduation=r,this.showGraduationModal=!0},confirmDeleteGraduation(r){this.closeModals(),this.selectedGraduation=r,this.showDeleteModal=!0},async deleteGraduation(){try{await ge(this.id,this.selectedGraduation.id)}catch(r){this.$snotify.error("Erro ao excluir graduação:",r)}finally{this.loadGraduations()}},closeModals(){this.selectedGraduation=null,this.selectedCourse=null,this.selectedLanguage=null,this.selectedWorkExperience=null,this.showGraduationModal=!1,this.showCoursesModal=!1,this.showLanguageModal=!1,this.showWorkExperienceModal=!1,this.showDeleteModal=!1},handleDelete(){this.selectedGraduation?this.deleteGraduation():this.selectedCourse?this.deleteCourse():this.selectedLanguage?this.deleteLanguage():this.selectedWorkExperience&&this.deleteWorkExperience()},async loadCourses(){try{this.closeModals();const r=await Se(this.id);this.courses=r.data}catch(r){this.$snotify.error("Erro ao carregar cursos:",r)}},editCourse(r){this.selectedCourse=r,this.showCoursesModal=!0},confirmDeleteCourse(r){this.closeModals(),this.selectedCourse=r,this.showDeleteModal=!0},async deleteCourse(){try{await Ne(this.id,this.selectedCourse.id)}catch(r){this.$snotify.error("Erro ao excluir curso:",r)}finally{this.loadCourses()}},async loadLanguages(){try{this.closeModals();const r=await Ie(this.id);this.languages=r.data}catch(r){this.$snotify.error("Erro ao carregar idiomas:",r)}},editLanguage(r){this.selectedLanguage=r,this.showLanguageModal=!0},confirmDeleteLanguage(r){this.closeModals(),this.selectedLanguage=r,this.showDeleteModal=!0},async deleteLanguage(){try{await Ge(this.id,this.selectedLanguage.id)}catch(r){this.$snotify.error("Erro ao excluir idioma:",r)}finally{this.loadLanguages()}},async loadWorkExperiences(){try{this.closeModals();const r=await Re(this.id);this.workExperiences=r.data}catch(r){this.$snotify.error("Erro ao carregar experiências de trabalho:",r)}},editWorkExperience(r){this.selectedWorkExperience=r,this.showWorkExperienceModal=!0},confirmDeleteWorkExperience(r){this.closeModals(),this.selectedWorkExperience=r,this.showDeleteModal=!0},async deleteWorkExperience(){try{await je(this.id,this.selectedWorkExperience.id)}catch(r){this.$snotify.error("Erro ao excluir experiência de trabalho:",r)}finally{this.loadWorkExperiences()}}}},lo={class:"group"},so={class:"group"},io={class:"group flex"},ao={class:"group flex"},no={class:"group flex"},uo={class:"switch"},mo={class:"group flex"},co={class:"group flex"},po={class:"group"},fo={class:"group"},ho={class:"group flex"},go={class:"group"},yo={class:"group flex"},bo={class:"group flex"},vo={class:"group flex"},xo={class:"switch"},Co={class:"switch"},Vo={class:"flex mt"},Eo={key:0},Mo={class:"btns"},ko={class:"flex"},Do={key:0},wo={class:"btns"},Uo={class:"flex mt"},So={key:1},_o=["href"],No={class:"btns"},Ao={class:"flex mt"},Fo={key:2},qo=["href"],Lo={class:"btns"},Oo={class:"group"},Io=["error"],Bo={class:"group flex"},Go={class:"group flex"};function Wo(r,e,a,h,o,d){const n=m("FormInput"),g=m("MySwitch"),x=m("MySelect"),f=m("MyAccordeon"),i=m("MyButton"),M=m("Icon"),P=m("GraduationModal"),J=m("CoursesModal"),H=m("LanguageModal"),R=m("WorkExperienceModal"),z=m("DeleteConfirmationModal");return p(),y(k,null,[s("form",{onSubmit:e[33]||(e[33]=D((...t)=>d.validate&&d.validate(...t),["prevent"]))},[l(f,{title:"Dados pessoais",isOpen:!0},{default:u(()=>[s("div",lo,[l(n,{modelValue:o.form.name,"onUpdate:modelValue":e[0]||(e[0]=t=>o.form.name=t),error:o.errors.name,type:"text",placeholder:"Digite seu nome",label:"Name"},null,8,["modelValue","error"])]),s("div",so,[l(n,{modelValue:o.form.email,"onUpdate:modelValue":e[1]||(e[1]=t=>o.form.email=t),error:o.errors.email,type:"email",placeholder:"Digite seu e-mail",label:"Email"},null,8,["modelValue","error"])]),s("div",io,[l(n,{modelValue:o.form.cpf,"onUpdate:modelValue":e[2]||(e[2]=t=>o.form.cpf=t),error:o.errors.cpf,type:"text",placeholder:"Digite seu CPF",label:"CPF"},null,8,["modelValue","error"]),l(n,{modelValue:o.form.rg,"onUpdate:modelValue":e[3]||(e[3]=t=>o.form.rg=t),error:o.errors.rg,type:"text",placeholder:"Digite seu RG",label:"RG"},null,8,["modelValue","error"])]),s("div",ao,[l(n,{modelValue:o.form.cnh,"onUpdate:modelValue":e[4]||(e[4]=t=>o.form.cnh=t),error:o.errors.cnh,type:"text",placeholder:"Digite sua CNH",label:"CNH"},null,8,["modelValue","error"]),l(n,{modelValue:o.form.typeCnh,"onUpdate:modelValue":e[5]||(e[5]=t=>o.form.typeCnh=t),error:o.errors.typeCnh,type:"text",placeholder:"Digite o tipo de CNH",label:"Tipo de CNH"},null,8,["modelValue","error"])]),s("div",no,[s("div",uo,[e[34]||(e[34]=s("span",null,"Possui deficiência?",-1)),l(g,{modelValue:o.form.hasDisability,"onUpdate:modelValue":e[6]||(e[6]=t=>o.form.hasDisability=t)},null,8,["modelValue"])]),o.form.hasDisability?(p(),w(x,{key:0,options:o.disabilities,modelValue:o.form.typeDisability,"onUpdate:modelValue":e[7]||(e[7]=t=>o.form.typeDisability=t),label:"Deficiência",error:o.errors.typeDisability},null,8,["options","modelValue","error"])):V("",!0)]),s("div",mo,[l(x,{options:o.genders,modelValue:o.form.gender,"onUpdate:modelValue":e[8]||(e[8]=t=>o.form.gender=t),label:"Sexo",error:o.errors.gender},null,8,["options","modelValue","error"]),l(x,{options:o.maritalStatus,modelValue:o.form.maritalStatusId,"onUpdate:modelValue":e[9]||(e[9]=t=>o.form.maritalStatusId=t),modelModifiers:{number:!0},label:"Estado Civil",error:o.errors.maritalStatusId},null,8,["options","modelValue","error"])]),s("div",co,[l(n,{modelValue:o.form.phoneNumber,"onUpdate:modelValue":e[10]||(e[10]=t=>o.form.phoneNumber=t),error:o.errors.phoneNumber,type:"tel",mask:"tel",placeholder:"(99) 99999-9999",label:"Telefone"},null,8,["modelValue","error"]),l(n,{modelValue:o.form.phoneNumber2,"onUpdate:modelValue":e[11]||(e[11]=t=>o.form.phoneNumber2=t),error:o.errors.phoneNumber2,type:"tel",mask:"tel",placeholder:"(99) 99999-9999",label:"Telefone 2"},null,8,["modelValue","error"])])]),_:1}),l(f,{title:"Localidade"},{default:u(()=>[s("div",po,[l(x,{options:o.nationalities,modelValue:o.form.nationality,"onUpdate:modelValue":e[12]||(e[12]=t=>o.form.nationality=t),label:"Nacionalidade",error:o.errors.nationality},null,8,["options","modelValue","error"])]),s("div",fo,[l(n,{modelValue:o.form.postalCode,"onUpdate:modelValue":e[13]||(e[13]=t=>o.form.postalCode=t),error:o.errors.postalCode,type:"text",placeholder:"Digite o CEP",label:"CEP"},null,8,["modelValue","error"])]),s("div",ho,[l(n,{modelValue:o.form.street,"onUpdate:modelValue":e[14]||(e[14]=t=>o.form.street=t),error:o.errors.street,type:"text",placeholder:"Digite a rua",label:"Rua"},null,8,["modelValue","error"]),l(n,{modelValue:o.form.number,"onUpdate:modelValue":e[15]||(e[15]=t=>o.form.number=t),modelModifiers:{number:!0},error:o.errors.number,type:"number",placeholder:"555",label:"Número"},null,8,["modelValue","error"])]),s("div",go,[l(n,{modelValue:o.form.complement,"onUpdate:modelValue":e[16]||(e[16]=t=>o.form.complement=t),error:o.errors.complement,type:"text",placeholder:"Fundo A",label:"Complemento"},null,8,["modelValue","error"])]),s("div",yo,[l(n,{modelValue:o.form.neighborhood,"onUpdate:modelValue":e[17]||(e[17]=t=>o.form.neighborhood=t),error:o.errors.neighborhood,type:"text",placeholder:"Limeira",label:"Bairro"},null,8,["modelValue","error"]),l(n,{modelValue:o.form.city,"onUpdate:modelValue":e[18]||(e[18]=t=>o.form.city=t),error:o.errors.city,type:"text",placeholder:"São Paulo",label:"Cidade"},null,8,["modelValue","error"])]),s("div",bo,[l(n,{modelValue:o.form.state,"onUpdate:modelValue":e[19]||(e[19]=t=>o.form.state=t),error:o.errors.state,type:"text",placeholder:"SP",label:"Estado"},null,8,["modelValue","error"]),l(n,{modelValue:o.form.country,"onUpdate:modelValue":e[20]||(e[20]=t=>o.form.country=t),error:o.errors.country,type:"text",placeholder:"Brasil",label:"País"},null,8,["modelValue","error"])])]),_:1}),l(f,{title:"Profissional",class:"school"},{default:u(()=>[s("div",vo,[s("div",xo,[e[35]||(e[35]=s("span",null,"Disponibilidade para viagem?",-1)),l(g,{modelValue:o.form.availableToTravel,"onUpdate:modelValue":e[21]||(e[21]=t=>o.form.availableToTravel=t)},null,8,["modelValue"])]),s("div",Co,[e[36]||(e[36]=s("span",null,"Primeiro Emprego?",-1)),l(g,{modelValue:o.form.firstJob,"onUpdate:modelValue":e[22]||(e[22]=t=>o.form.firstJob=t)},null,8,["modelValue"])]),l(n,{modelValue:o.form.salaryClaim,"onUpdate:modelValue":e[23]||(e[23]=t=>o.form.salaryClaim=t),modelModifiers:{number:!0},error:o.errors.salaryClaim,type:"number",placeholder:"5000",label:"Pretensão Salarial"},null,8,["modelValue","error"])]),s("div",Vo,[e[38]||(e[38]=s("h2",null,"Experiência Profissional",-1)),l(i,{class:"primary",type:"button",onClick:e[24]||(e[24]=()=>o.showWorkExperienceModal=!0)},{default:u(()=>e[37]||(e[37]=[C(" Nova Experiência ")])),_:1})]),o.workExperiences.length>0?(p(),y("ul",Eo,[(p(!0),y(k,null,S(o.workExperiences,t=>(p(),y("li",{key:t.id},[s("div",null,[s("p",null,v(t.position),1),s("p",null,v(t.companyName)+" - "+v(o.toFormatDate(t.startDate))+" até "+v(o.toFormatDate(t.endDate)||t.isCurrentJob&&"Atualmente"),1)]),s("div",Mo,[l(i,{class:"info",type:"button",onClick:L=>d.editWorkExperience(t)},{default:u(()=>[l(M,{icon:"iconamoon:pen"})]),_:2},1032,["onClick"]),l(i,{class:"danger",type:"button",onClick:()=>d.confirmDeleteWorkExperience(t)},{default:u(()=>[l(M,{icon:"iconamoon:trash"})]),_:2},1032,["onClick"])])]))),128))])):V("",!0)]),_:1}),l(f,{title:"Conhecimento",class:"school"},{default:u(()=>[s("div",ko,[e[40]||(e[40]=s("h2",null,"Graduações",-1)),l(i,{class:"primary",type:"button",onClick:e[25]||(e[25]=()=>o.showGraduationModal=!0)},{default:u(()=>e[39]||(e[39]=[C(" Nova Graduação ")])),_:1})]),o.graduations.length>0?(p(),y("ul",Do,[(p(!0),y(k,null,S(o.graduations,t=>(p(),y("li",{key:t.id},[s("div",null,[s("p",null,v(t.courseName),1),s("p",null,v(t.status)+" - "+v(o.toFormatDate(t.endDate)),1)]),s("div",wo,[l(i,{class:"info",type:"button",onClick:L=>d.editGraduation(t)},{default:u(()=>[l(M,{icon:"iconamoon:pen"})]),_:2},1032,["onClick"]),l(i,{class:"danger",type:"button",onClick:()=>d.confirmDeleteGraduation(t)},{default:u(()=>[l(M,{icon:"iconamoon:trash"})]),_:2},1032,["onClick"])])]))),128))])):V("",!0),s("div",Uo,[e[42]||(e[42]=s("h2",null,"Cursos",-1)),l(i,{class:"primary",type:"button",onClick:e[26]||(e[26]=()=>o.showCoursesModal=!0)},{default:u(()=>e[41]||(e[41]=[C(" Novo Curso ")])),_:1})]),o.courses.length>0?(p(),y("ul",So,[(p(!0),y(k,null,S(o.courses,t=>(p(),y("li",{key:t.id},[s("div",null,[s("p",null,v(t.courseName),1),s("p",null," Duração: "+v(t.durationHours)+" "+v(t.durationHours>1?"horas":"hora")+" - "+v(o.toFormatDate(t.completionDate)),1),t.certificateUrl?(p(),y("a",{key:0,href:t.certificateUrl,target:"_blank"},"Certificado",8,_o)):V("",!0)]),s("div",No,[l(i,{class:"info",type:"button",onClick:L=>d.editCourse(t)},{default:u(()=>[l(M,{icon:"iconamoon:pen"})]),_:2},1032,["onClick"]),l(i,{class:"danger",type:"button",onClick:()=>d.confirmDeleteCourse(t)},{default:u(()=>[l(M,{icon:"iconamoon:trash"})]),_:2},1032,["onClick"])])]))),128))])):V("",!0),s("div",Ao,[e[44]||(e[44]=s("h2",null,"Idiomas",-1)),l(i,{class:"primary",type:"button",onClick:e[27]||(e[27]=()=>o.showLanguageModal=!0)},{default:u(()=>e[43]||(e[43]=[C(" Novo Idioma ")])),_:1})]),o.languages.length>0?(p(),y("ul",Fo,[(p(!0),y(k,null,S(o.languages,t=>(p(),y("li",{key:t.id},[s("div",null,[s("p",null,v(t.language)+" - "+v(t.level),1),t.certificateUrl?(p(),y("a",{key:0,href:t.certificateUrl,target:"_blank"},"Certificado",8,qo)):V("",!0)]),s("div",Lo,[l(i,{class:"info",type:"button",onClick:L=>d.editLanguage(t)},{default:u(()=>[l(M,{icon:"iconamoon:pen"})]),_:2},1032,["onClick"]),l(i,{class:"danger",type:"button",onClick:()=>d.confirmDeleteLanguage(t)},{default:u(()=>[l(M,{icon:"iconamoon:trash"})]),_:2},1032,["onClick"])])]))),128))])):V("",!0)]),_:1}),l(f,{title:"Social"},{default:u(()=>[s("div",Oo,[q(s("textarea",{class:"textarea","onUpdate:modelValue":e[28]||(e[28]=t=>o.form.presentation=t),error:o.errors.presentation,placeholder:"Apresentação"},null,8,Io),[[G,o.form.presentation]])]),s("div",Bo,[l(n,{modelValue:o.form.facebookUrl,"onUpdate:modelValue":e[29]||(e[29]=t=>o.form.facebookUrl=t),error:o.errors.facebookUrl,type:"url",placeholder:"Digite o link do facebook",label:"Facebook"},null,8,["modelValue","error"]),l(n,{modelValue:o.form.instagramUrl,"onUpdate:modelValue":e[30]||(e[30]=t=>o.form.instagramUrl=t),error:o.errors.instagramUrl,type:"url",placeholder:"Digite o link do instagram",label:"Instagram"},null,8,["modelValue","error"])]),s("div",Go,[l(n,{modelValue:o.form.linkedinUrl,"onUpdate:modelValue":e[31]||(e[31]=t=>o.form.linkedinUrl=t),error:o.errors.linkedinUrl,type:"url",placeholder:"Digite o link do linkedin",label:"LinkedIn"},null,8,["modelValue","error"]),l(n,{modelValue:o.form.personalUrl,"onUpdate:modelValue":e[32]||(e[32]=t=>o.form.personalUrl=t),error:o.errors.personalUrl,type:"url",placeholder:"Digite o link pessoal",label:"Site Pessoal"},null,8,["modelValue","error"])])]),_:1}),l(i,{class:"primary",loading:o.loading},{default:u(()=>e[45]||(e[45]=[C("Atualizar")])),_:1},8,["loading"])],32),l(P,{show:o.showGraduationModal,onOnClose:d.closeModals,onOnSave:d.loadGraduations,dataForm:o.selectedGraduation},null,8,["show","onOnClose","onOnSave","dataForm"]),l(J,{show:o.showCoursesModal,onOnClose:d.closeModals,onOnSave:d.loadCourses,dataForm:o.selectedCourse},null,8,["show","onOnClose","onOnSave","dataForm"]),l(H,{show:o.showLanguageModal,onOnClose:d.closeModals,onOnSave:d.loadLanguages,dataForm:o.selectedLanguage},null,8,["show","onOnClose","onOnSave","dataForm"]),l(R,{show:o.showWorkExperienceModal,onOnClose:d.closeModals,onOnSave:d.loadWorkExperiences,dataForm:o.selectedWorkExperience},null,8,["show","onOnClose","onOnSave","dataForm"]),l(z,{show:o.showDeleteModal,onOnClose:d.closeModals,onOnConfirm:d.handleDelete},null,8,["show","onOnClose","onOnConfirm"])],64)}const To=E(to,[["render",Wo],["__scopeId","data-v-8979e7bb"]]),Po={name:"UserProfile",components:{Curriculum:To}};function Jo(r,e,a,h,o,d){const n=m("Curriculum");return p(),y("div",null,[l(n)])}const Xo=E(Po,[["render",Jo],["__scopeId","data-v-65fd4b71"]]);export{Xo as default};
