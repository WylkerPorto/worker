import{S as B}from"./SearchInput-BYtjQ7Ns.js";import{I as C,u as A,_ as D,c as l,a as o,d as r,t as c,h as F,e as u,r as y,F as f,i as k,k as M,g as I,w as b,f as w,o as a}from"./index-CjdhjMXF.js";import{t as j}from"./conversors-CBWuNu8U.js";import{M as T}from"./MyButton-pt6yh-1N.js";const P={name:"DataTableComponent",data(){return{toFormatDate:j,search:""}},props:{items:{type:Array},columns:{type:Array},totalItems:{type:Number},loading:{type:Boolean,default:!1},totalPage:{type:Number,default:0},currentPage:{type:Number,default:1}},components:{SearchInput:B,Icon:C,MyButton:T},emits:["onSearch","onNextPage","onPreviousPage"],methods:{handleSearch(){this.$emit("onSearch",this.search)},getNestedValue(e,n){return n.split(".").reduce((t,S)=>t?.[S],e)}},computed:{justifyWasAction(){return this.totalItems?"space-between":"end"}}},v=()=>{A(e=>({"7e1c2adc":e.justifyWasAction}))},p=P.setup;P.setup=p?(e,n)=>(v(),p(e,n)):v;const E={class:"data-table"},W=["colspan"],x={key:0},L={class:"header"},U={key:0},q={key:0,class:"actions"},z={key:0},G=["colspan"],H={key:1},J=["colspan"],K={class:"pagination"};function O(e,n,t,S,d,m){const N=y("SearchInput"),h=y("Icon"),_=y("MyButton");return a(),l("main",E,[o("table",null,[o("thead",null,[o("tr",null,[o("th",{colspan:t.columns.length+(e.$slots.actions?1:0)},[o("section",null,[t.totalItems?(a(),l("span",x,"#"+c(t.totalItems),1)):r("",!0),o("form",{action:"#",onSubmit:n[1]||(n[1]=F((...s)=>m.handleSearch&&m.handleSearch(...s),["stop","prevent"]))},[u(N,{modelValue:d.search,"onUpdate:modelValue":n[0]||(n[0]=s=>d.search=s)},null,8,["modelValue"])],32)])],8,W)]),o("tr",L,[(a(!0),l(f,null,k(t.columns,(s,g)=>(a(),l("th",{key:g},c(s?.title),1))),128)),e.$slots.actions?(a(),l("th",U,"Ações")):r("",!0)])]),o("tbody",null,[(a(!0),l(f,null,k(t.items,(s,g)=>(a(),l("tr",{key:g},[(a(!0),l(f,null,k(t.columns,(i,V)=>(a(),l("td",{key:V},c(i?.type==="date"?d.toFormatDate(s[i?.key]):i?.type==="boolean"?s[i?.key]?"Ativo":"Inativo":m.getNestedValue(s,i?.key)),1))),128)),e.$slots.actions?(a(),l("td",q,[M(e.$slots,"actions",{item:s},void 0)])):r("",!0)]))),128))]),t.loading?(a(),l("tbody",z,[o("tr",null,[o("td",{colspan:t.columns.length+(e.$slots.actions?1:0)},[u(h,{class:"loader",icon:"svg-spinners:3-dots-scale"})],8,G)])])):r("",!0),t.totalPage>1&&!t.loading?(a(),l("tfoot",H,[o("tr",null,[o("td",{colspan:t.columns?.length+(e.$slots.actions?1:0)},[o("div",K,[t.currentPage>1?(a(),I(_,{key:0,loading:t.loading,class:"light",onClick:n[2]||(n[2]=s=>e.$emit("onPreviousPage"))},{default:b(()=>[u(h,{icon:"icons8:left-round"})]),_:1},8,["loading"])):r("",!0),u(_,{class:"light",disabled:""},{default:b(()=>[w(c(t.currentPage)+" / "+c(t.totalPage),1)]),_:1}),t.currentPage<t.totalPage?(a(),I(_,{key:1,loading:t.loading,class:"light",onClick:n[3]||(n[3]=s=>e.$emit("onNextPage"))},{default:b(()=>[u(h,{icon:"icons8:right-round"})]),_:1},8,["loading"])):r("",!0)])],8,J)])])):r("",!0)])])}const Z=D(P,[["render",O],["__scopeId","data-v-5685b474"]]);export{Z as D};
