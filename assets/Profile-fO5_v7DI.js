import{h as y,F as N,c as A,a as v,b as q,d as W,e as J}from"./http-xV6af_rB.js";import{M as P}from"./SwitchButton-DbQ0emsm.js";import{I,_ as C,c as g,a as s,b as _,t as b,n as U,e as l,r as m,F as M,i as S,g as k,o as c,k as L,v as K,j as Q,h as w,w as u,f as V,l as B}from"./index-iKvDKtr8.js";import{M as D}from"./MyButton-aq6Y_GUq.js";import{M as F,a as X}from"./ModalBase-COY84WQF.js";import{g as Y,u as Z}from"./user-D-bGKjjq.js";const $={name:"MySelect",props:{modelValue:{type:[String,Number,null],required:!0},options:{type:Array,required:!0},label:{type:String,required:!1},error:{type:String,required:!1}},data(){return{isOpen:!1}},components:{Icon:I},computed:{selectedOptionTitle(){const r=this.options.find(e=>e.title===this.modelValue);return r?r.title:null}},mounted(){document.addEventListener("click",this.handleClickOutside)},beforeUnmount(){document.removeEventListener("click",this.handleClickOutside)},methods:{toggleDropdown(){this.isOpen=!this.isOpen},selectOption(r){this.$emit("update:modelValue",r.title),this.isOpen=!1},handleClickOutside(r){this.$el.contains(r.target)||(this.isOpen=!1)}}},ee={class:"wrapper"},oe={key:0,class:"label"},re={class:"value"},te={key:1,class:"dropdown"},le=["onClick"],se={key:0,class:"error"};function ie(r,e,d,f,o,n){const a=m("Icon");return c(),g("main",null,[s("div",ee,[d.label?(c(),g("label",oe,b(d.label),1)):_("",!0),s("div",{class:U(["select",{error:!!d.error}]),onClick:e[0]||(e[0]=(...h)=>n.toggleDropdown&&n.toggleDropdown(...h))},[s("span",re,b(n.selectedOptionTitle||"Selecione"),1),s("span",{class:U(["arrow",{open:o.isOpen}])},[l(a,{icon:"bx:down-arrow"})],2)],2),o.isOpen?(c(),g("ul",te,[(c(!0),g(M,null,S(d.options,h=>(c(),g("li",{key:h.id,onClick:k(x=>n.selectOption(h),["stop"]),class:U(["option",{selected:h.title===d.modelValue}])},b(h.title),11,le))),128))])):_("",!0)]),d.error?(c(),g("span",se,b(d.error),1)):_("",!0)])}const G=C($,[["render",ie],["__scopeId","data-v-0a41f1a2"]]),ae={name:"MyAccordeon",props:{title:{type:String,required:!0},isOpen:{type:Boolean,default:!1}},data(){return{expanded:!1}},components:{Icon:I},mounted(){this.expanded=this.isOpen},methods:{toggle(){this.expanded=!this.expanded}}},ne={class:"accordeon"},de={class:"title"},ue={class:"body"};function me(r,e,d,f,o,n){const a=m("Icon");return c(),g("div",ne,[s("div",{class:U(["header",{expanded:o.expanded}]),onClick:e[0]||(e[0]=(...h)=>n.toggle&&n.toggle(...h))},[s("span",de,b(d.title),1),l(a,{icon:"bx:down-arrow"})],2),L(s("div",ue,[Q(r.$slots,"default",{},void 0)],512),[[K,o.expanded]])])}const ce=C(ae,[["render",me],["__scopeId","data-v-e0d60593"]]),pe=(r,e)=>y.authApi().post(`/person/${r}/graduation`,e),fe=r=>y.authApi().get(`/person/${r}/graduation`),he=(r,e,d)=>y.authApi().put(`/person/${r}/graduation/${e}`,d),ge=(r,e)=>y.authApi().delete(`/person/${r}/graduation/${e}`),ye=()=>y.authApi().get("/filter/disability"),ve=()=>y.authApi().get("/filter/gender"),be=()=>y.authApi().get("/filter/maritalstatus"),xe=()=>y.authApi().get("/filter/nationality"),Ve=()=>y.authApi().get("/filter/education-level"),_e=()=>y.authApi().get("/filter/education-status"),Ce=()=>y.authApi().get("/filter/language-level"),Ee={name:"GraduationModal",components:{ModalBase:F,FormInput:N,MyButton:D,MySelect:G},props:{show:{type:Boolean,default:!1},dataForm:{type:Object}},emits:["onClose","onSave"],data(){return{form:{},errors:{},loading:!1,educationLevels:[],educationStatus:[]}},watch:{dataForm(){this.dataForm?this.form={...this.form,...this.dataForm}:this.form={}}},async mounted(){try{const r=await Ve(),e=await _e();this.educationLevels=r.data,this.educationStatus=e.data}catch(r){this.$snotify.error("Erro ao carregar os níveis e status de educação: "+r)}},methods:{validate(){A({institutionName:v().required("Nome da instituição é obrigatório"),courseName:v().required("Nome do curso é obrigatório"),educationLevel:v().oneOf(this.educationLevels.map(e=>e.title),"Nível inválido").required("Nível é obrigatório"),status:v().oneOf(this.educationStatus.map(e=>e.title),"Status inválido").required("Status é obrigatório"),startDate:v().required("Data de início é obrigatória"),endDate:v().required("Data de conclusão é obrigatória")}).validate(this.form,{abortEarly:!1}).then(()=>{this.errors={},this.saveGraduation()}).catch(e=>{const d={};e.inner.forEach(f=>{d[f.path]=f.message}),this.errors=d})},async saveGraduation(){this.loading=!0;try{const r=!!this.form.id,e=localStorage.getItem("uid");r&&(delete this.form.id,delete this.form.createdAt,delete this.form.updatedAt,delete this.form.deletedAt),r?await he(e,this.dataForm.id,this.form):await pe(e,this.form),this.$snotify.success(`Graduação ${r?"atualizada":"criada"} com sucesso`),this.$emit("onSave"),this.closeModal()}catch(r){this.$snotify.error("Erro ao salvar a graduação: "+r)}finally{this.loading=!1}},closeModal(){this.form={},this.errors={},this.$emit("onClose")}},computed:{levelList(){return this.educationLevels.map(r=>({id:r.id,title:r.title}))},statusList(){return this.educationStatus.map(r=>({id:r.id,title:r.title}))}}},Me={class:"flex"};function ke(r,e,d,f,o,n){const a=m("FormInput"),h=m("MySelect"),x=m("MyButton"),p=m("ModalBase");return c(),w(p,{open:d.show,loading:o.loading,title:"Nova Graduação",onOnClose:e[7]||(e[7]=i=>r.$emit("onClose"))},{content:u(()=>[s("form",{onSubmit:e[6]||(e[6]=k((...i)=>n.validate&&n.validate(...i),["prevent"]))},[l(a,{label:"Instituição",type:"text",placeholder:"Universidade do Estado de São Paulo",modelValue:o.form.institutionName,"onUpdate:modelValue":e[0]||(e[0]=i=>o.form.institutionName=i),error:o.errors.institutionName,required:""},null,8,["modelValue","error"]),l(a,{label:"Curso",type:"text",placeholder:"Ciência da Computação",modelValue:o.form.courseName,"onUpdate:modelValue":e[1]||(e[1]=i=>o.form.courseName=i),error:o.errors.courseName,required:""},null,8,["modelValue","error"]),l(h,{label:"Nível",options:n.levelList,modelValue:o.form.educationLevel,"onUpdate:modelValue":e[2]||(e[2]=i=>o.form.educationLevel=i),error:o.errors.educationLevel,required:""},null,8,["options","modelValue","error"]),l(h,{label:"Status",options:n.statusList,modelValue:o.form.status,"onUpdate:modelValue":e[3]||(e[3]=i=>o.form.status=i),error:o.errors.status,required:""},null,8,["options","modelValue","error"]),s("div",Me,[l(a,{label:"Data de inicio",type:"date",modelValue:o.form.startDate,"onUpdate:modelValue":e[4]||(e[4]=i=>o.form.startDate=i),error:o.errors.startDate,required:""},null,8,["modelValue","error"]),l(a,{label:"Data de conclusão",type:"date",modelValue:o.form.endDate,"onUpdate:modelValue":e[5]||(e[5]=i=>o.form.endDate=i),error:o.errors.endDate,required:""},null,8,["modelValue","error"])])],32)]),actions:u(()=>[l(x,{class:"btn success",loading:o.loading,onClick:n.validate},{default:u(()=>e[8]||(e[8]=[V("Salvar")])),_:1},8,["loading","onClick"])]),_:1},8,["open","loading"])}const we=C(Ee,[["render",ke],["__scopeId","data-v-6165311f"]]),De=(r,e)=>y.authApi().post(`/person/${r}/complementary-course`,e),Se=r=>y.authApi().get(`/person/${r}/complementary-course`),Ue=(r,e,d)=>y.authApi().put(`/person/${r}/complementary-course/${e}`,d),Ne=(r,e)=>y.authApi().delete(`/person/${r}/complementary-course/${e}`),Ae={name:"CoursesModal",components:{ModalBase:F,FormInput:N,MyButton:D},props:{show:{type:Boolean,default:!1},dataForm:{type:Object}},emits:["onClose","onSave"],data(){return{form:{},errors:{},loading:!1}},watch:{dataForm(){this.dataForm?this.form={...this.form,...this.dataForm}:this.form={}}},methods:{validate(){A({institutionName:v().required("Nome da instituição é obrigatório"),courseName:v().required("Nome do curso é obrigatório"),durationHours:W().typeError("Duração deve ser um número").positive("Duração deve ser um número positivo").nullable(),completionDate:q().typeError("Data de conclusão deve ser uma data válida").nullable(),certificateUrl:v().url("URL do certificado deve ser uma URL válida").nullable(),description:v().nullable()}).validate(this.form,{abortEarly:!1}).then(()=>{this.errors={},this.saveCourse()}).catch(e=>{const d={};e.inner.forEach(f=>{d[f.path]=f.message}),this.errors=d})},async saveCourse(){this.loading=!0;try{const r=!!this.form.id,e=localStorage.getItem("uid");r&&(delete this.form.id,delete this.form.createdAt,delete this.form.updatedAt,delete this.form.deletedAt),r?await Ue(e,this.dataForm.id,this.form):await De(e,this.form),this.$snotify.success(`Curso ${r?"atualizada":"criada"} com sucesso`),this.$emit("onSave"),this.closeModal()}catch(r){this.$snotify.error("Erro ao salvar curso: "+r)}finally{this.loading=!1}},closeModal(){this.form={},this.errors={},this.$emit("onClose")}}},Fe={class:"flex"};function Le(r,e,d,f,o,n){const a=m("FormInput"),h=m("MyButton"),x=m("ModalBase");return c(),w(x,{open:d.show,loading:o.loading,title:"Novo Curso",onOnClose:e[7]||(e[7]=p=>r.$emit("onClose"))},{content:u(()=>[s("form",{onSubmit:e[6]||(e[6]=k((...p)=>n.validate&&n.validate(...p),["prevent"]))},[l(a,{label:"Instituição",type:"text",placeholder:"Universidade do Estado de São Paulo",modelValue:o.form.institutionName,"onUpdate:modelValue":e[0]||(e[0]=p=>o.form.institutionName=p),error:o.errors.institutionName,required:""},null,8,["modelValue","error"]),l(a,{label:"Nome do Curso",type:"text",placeholder:"Ciência da Computação",modelValue:o.form.courseName,"onUpdate:modelValue":e[1]||(e[1]=p=>o.form.courseName=p),error:o.errors.courseName,required:""},null,8,["modelValue","error"]),s("div",Fe,[l(a,{label:"Horas de Duração",type:"number",modelValue:o.form.durationHours,"onUpdate:modelValue":e[2]||(e[2]=p=>o.form.durationHours=p),error:o.errors.durationHours},null,8,["modelValue","error"]),l(a,{label:"Data de conclusão",type:"date",modelValue:o.form.completionDate,"onUpdate:modelValue":e[3]||(e[3]=p=>o.form.completionDate=p),error:o.errors.completionDate},null,8,["modelValue","error"])]),l(a,{label:"Url do Certificado",type:"text",placeholder:"https://example.com/certificado",modelValue:o.form.certificateUrl,"onUpdate:modelValue":e[4]||(e[4]=p=>o.form.certificateUrl=p),error:o.errors.certificateUrl},null,8,["modelValue","error"]),L(s("textarea",{class:"textarea","onUpdate:modelValue":e[5]||(e[5]=p=>o.form.description=p),placeholder:"Descrição do curso",rows:"7"},null,512),[[B,o.form.description]])],32)]),actions:u(()=>[l(h,{class:"btn success",loading:o.loading,onClick:n.validate},{default:u(()=>e[8]||(e[8]=[V("Salvar")])),_:1},8,["loading","onClick"])]),_:1},8,["open","loading"])}const Oe=C(Ae,[["render",Le],["__scopeId","data-v-d1a1a96e"]]),qe=(r,e)=>y.authApi().post(`/person/${r}/languageskill`,e),Ie=r=>y.authApi().get(`/person/${r}/languageskill`),Be=(r,e,d)=>y.authApi().put(`/person/${r}/languageskill/${e}`,d),Ge=(r,e)=>y.authApi().delete(`/person/${r}/languageskill/${e}`),We={name:"LanguageModal",components:{ModalBase:F,MyButton:D,FormInput:N,MySelect:G},props:{show:{type:Boolean,default:!1},dataForm:{type:Object}},emits:["onClose","onSave"],data(){return{form:{},errors:{},loading:!1,languageStatus:[]}},watch:{dataForm(){this.dataForm?this.form={...this.form,...this.dataForm}:this.form={}}},async mounted(){try{const r=await Ce();this.languageStatus=r.data}catch(r){this.$snotify.error("Erro ao carregar os níveis de proficiência: "+r)}},methods:{validate(){A().shape({language:v().required("O nome do idioma é obrigatório"),level:v().oneOf(this.languageStatus.map(e=>e.title),"Nível inválido").required("O nível de proficiência é obrigatório"),certificateUrl:v().url("URL do certificado deve ser uma URL válida").nullable()}).validate(this.form,{abortEarly:!1}).then(()=>{this.errors={},this.saveLanguage()}).catch(e=>{const d={};e.inner.forEach(f=>{d[f.path]=f.message}),this.errors=d})},async saveLanguage(){this.loading=!0;try{const r=!!this.form.id,e=localStorage.getItem("uid");r&&(delete this.form.id,delete this.form.createdAt,delete this.form.updatedAt,delete this.form.deletedAt),r?await Be(e,this.dataForm.id,this.form):await qe(e,this.form),this.$snotify.success(`Idioma ${r?"atualizado":"criado"} com sucesso`),this.$emit("onSave"),this.closeModal()}catch(r){this.$snotify.error("Erro ao salvar idioma:",r)}finally{this.loading=!1}},closeModal(){this.form={},this.errors={},this.$emit("onClose")}},computed:{statusList(){return this.languageStatus.map(r=>({id:r.id,title:r.title}))}}},Pe={class:"flex"};function je(r,e,d,f,o,n){const a=m("FormInput"),h=m("MySelect"),x=m("MyButton"),p=m("ModalBase");return c(),w(p,{open:d.show,onOnClose:e[4]||(e[4]=i=>r.$emit("onClose")),title:"Novo Idioma"},{content:u(()=>[s("form",{onSubmit:e[3]||(e[3]=k((...i)=>n.validate&&n.validate(...i),["prevent"]))},[s("div",Pe,[l(a,{label:"Nome do Idioma",type:"text",placeholder:"Português",modelValue:o.form.language,"onUpdate:modelValue":e[0]||(e[0]=i=>o.form.language=i),error:o.errors.language,required:""},null,8,["modelValue","error"]),l(h,{label:"Nível de Proficiência",options:n.statusList,modelValue:o.form.level,"onUpdate:modelValue":e[1]||(e[1]=i=>o.form.level=i),error:o.errors.level,required:""},null,8,["options","modelValue","error"])]),l(a,{label:"Url do Certificado",type:"text",placeholder:"https://example.com/certificado",modelValue:o.form.certificateUrl,"onUpdate:modelValue":e[2]||(e[2]=i=>o.form.certificateUrl=i),error:o.errors.certificateUrl,required:""},null,8,["modelValue","error"])],32)]),actions:u(()=>[l(x,{class:"btn success",loading:o.loading,onClick:n.validate},{default:u(()=>e[5]||(e[5]=[V("Salvar")])),_:1},8,["loading","onClick"])]),_:1},8,["open"])}const He=C(We,[["render",je],["__scopeId","data-v-d342ea3d"]]),Te=(r,e)=>y.authApi().post(`/person/${r}/work-experience`,e),ze=r=>y.authApi().get(`/person/${r}/work-experience`),Re=(r,e,d)=>y.authApi().put(`/person/${r}/work-experience/${e}`,d),Je=(r,e)=>y.authApi().delete(`/person/${r}/work-experience/${e}`),Ke={name:"WorkExperienceModal",components:{ModalBase:F,FormInput:N,MyButton:D,SwitchButton:P},props:{show:{type:Boolean,default:!1},dataForm:{type:Object}},emits:["onClose","onSave"],data(){return{form:{},errors:{},loading:!1}},watch:{dataForm(){this.dataForm?this.form={...this.form,...this.dataForm}:this.form={is_current_job:!1}}},created(){this.form={is_current_job:!1}},methods:{validate(){A({position:v().required("Cargo é obrigatório"),department:v().required("Departamento é obrigatório"),company_name:v().required("Empresa é obrigatória"),start_date:q().required("Data de início é obrigatória"),end_date:q().nullable().transform((e,d)=>d===""?null:e),description:v().required("Descrição é obrigatória"),salary:W().min(0,"Salário deve ser um número positivo").nullable(),employment_type:v().required("Tipo de contratação é obrigatório"),is_current_job:J().required("Status de trabalho atual é obrigatório")}).validate(this.form,{abortEarly:!1}).then(()=>{this.errors={},this.saveWork()}).catch(e=>{const d={};e.inner.forEach(f=>{d[f.path]=f.message}),this.errors=d})},async saveWork(){this.loading=!0;try{const r=!!this.form.id,e=localStorage.getItem("uid");r&&(delete this.form.id,delete this.form.createdAt,delete this.form.updatedAt,delete this.form.deletedAt),r?await Re(e,this.dataForm.id,this.form):await Te(e,this.form),this.$snotify.success(`Experiência ${r?"atualizada":"criada"} com sucesso!`),this.$emit("onSave"),this.closeModal()}catch(r){console.error("Erro ao salvar experiência:",r)}finally{this.loading=!1}},closeModal(){this.form={is_current_job:!1},this.errors={},this.$emit("onClose")}}},Qe={class:"flex"},Xe={class:"switch"},Ye={class:"flex"};function Ze(r,e,d,f,o,n){const a=m("FormInput"),h=m("SwitchButton"),x=m("MyButton"),p=m("ModalBase");return c(),w(p,{open:d.show,loading:o.loading,title:"Nova Experiência Profissional",onOnClose:e[10]||(e[10]=i=>r.$emit("onClose"))},{content:u(()=>[s("form",{onSubmit:e[9]||(e[9]=k((...i)=>n.validate&&n.validate(...i),["prevent"]))},[l(a,{label:"Cargo",type:"text",placeholder:"Nome do Cargo",modelValue:o.form.position,"onUpdate:modelValue":e[0]||(e[0]=i=>o.form.position=i),error:o.errors.position,required:""},null,8,["modelValue","error"]),l(a,{label:"Departamento",type:"text",placeholder:"Nome do Departamento",modelValue:o.form.department,"onUpdate:modelValue":e[1]||(e[1]=i=>o.form.department=i),error:o.errors.department,required:""},null,8,["modelValue","error"]),l(a,{label:"Empresa",type:"text",placeholder:"Nome da Empresa",modelValue:o.form.company_name,"onUpdate:modelValue":e[2]||(e[2]=i=>o.form.company_name=i),error:o.errors.company_name,required:""},null,8,["modelValue","error"]),s("div",Qe,[l(a,{label:"Data de Início",type:"date",modelValue:o.form.start_date,"onUpdate:modelValue":e[3]||(e[3]=i=>o.form.start_date=i),error:o.errors.start_date,required:""},null,8,["modelValue","error"]),l(a,{label:"Data de Término",type:"date",modelValue:o.form.end_date,"onUpdate:modelValue":e[4]||(e[4]=i=>o.form.end_date=i),error:o.errors.end_date},null,8,["modelValue","error"]),s("div",Xe,[e[11]||(e[11]=s("label",null,"Atualmente Trabalhando",-1)),l(h,{modelValue:o.form.is_current_job,"onUpdate:modelValue":e[5]||(e[5]=i=>o.form.is_current_job=i),required:""},null,8,["modelValue"])])]),s("div",Ye,[l(a,{label:"Tipo de Contratação",type:"text",placeholder:"full-time, part-time, freelance",modelValue:o.form.employment_type,"onUpdate:modelValue":e[6]||(e[6]=i=>o.form.employment_type=i),error:o.errors.employment_type,required:""},null,8,["modelValue","error"]),l(a,{label:"Salário",type:"number",placeholder:"Informe seu salário",modelValue:o.form.salary,"onUpdate:modelValue":e[7]||(e[7]=i=>o.form.salary=i),modelModifiers:{number:!0},error:o.errors.salary},null,8,["modelValue","error"])]),s("div",null,[L(s("textarea",{class:U(["textarea",{error:o.errors.description}]),"onUpdate:modelValue":e[8]||(e[8]=i=>o.form.description=i),placeholder:"Descreva suas responsabilidades e conquistas",rows:"5"},null,2),[[B,o.form.description]]),s("span",null,b(o.errors.description),1)])],32)]),actions:u(()=>[l(x,{class:"btn success",loading:o.loading,onClick:n.validate},{default:u(()=>e[12]||(e[12]=[V("Salvar")])),_:1},8,["loading","onClick"])]),_:1},8,["open","loading"])}const $e=C(Ke,[["render",Ze],["__scopeId","data-v-851056b1"]]),eo={name:"DeleteConfirmationModal",props:{show:{type:Boolean,required:!0}},emits:["onClose","onConfirm"],components:{ModalBase:F,MyButton:D}};function oo(r,e,d,f,o,n){const a=m("MyButton"),h=m("ModalBase");return c(),w(h,{open:d.show,title:"Confirmação de Exclusão",onOnClose:e[2]||(e[2]=x=>r.$emit("onClose"))},{content:u(()=>e[3]||(e[3]=[s("p",null,"Você tem certeza que deseja excluir este item?",-1),s("p",null,"Esta ação não pode ser desfeita.",-1)])),actions:u(()=>[l(a,{class:"btn danger",onClick:e[0]||(e[0]=x=>r.$emit("onConfirm"))},{default:u(()=>e[4]||(e[4]=[V("Excluir")])),_:1}),l(a,{class:"btn secondary",onClick:e[1]||(e[1]=x=>r.$emit("onClose"))},{default:u(()=>e[5]||(e[5]=[V("Cancelar")])),_:1})]),_:1},8,["open"])}const ro=C(eo,[["render",oo]]),to={name:"UserCurriculum",data(){return{toFormatDate:X,id:null,form:{name:"",email:"",password:"",cpf:"",rg:"",cnh:"",typeCnh:"",hasDisability:!1,typeDisability:"",gender:"",marital_status_id:null,nationality:"",phoneNumber:"",phoneNumber2:"",available_to_travel:!1,salary_claim:null,first_job:!1,presentation:"",postal_code:"",street:"",number:null,complement:"",neighborhood:"",city:"",state:"",country:"",facebook_url:"",instagram_url:"",linkedin_url:"",personal_url:""},disabilities:[],genders:[],maritalStatus:[],nationalities:[],graduations:[],courses:[],languages:[],workExperiences:[],errors:{},loading:!1,showGraduationModal:!1,selectedGraduation:null,showCoursesModal:!1,selectedCourse:null,showDeleteModal:!1,selectedLanguage:null,showLanguageModal:!1,showWorkExperienceModal:!1,selectedWorkExperience:null}},components:{FormInput:N,MySwitch:P,MySelect:G,MyButton:D,MyAccordeon:ce,GraduationModal:we,CoursesModal:Oe,LanguageModal:He,WorkExperienceModal:$e,DeleteConfirmationModal:ro,Icon:I},watch:{"form.hasDisability"(r){r||(this.form.typeDisability="")}},created(){this.id=localStorage.getItem("uid")},mounted(){this.loadFilters(),this.loadData(),this.loadGraduations(),this.loadCourses(),this.loadLanguages(),this.loadWorkExperiences()},methods:{validate(){A({name:v().min(3,"Nome deve ter pelo menos 3 caracteres").required("Nome é obrigatório"),gender:v().min(1,"Selecione um sexo").required("Sexo é obrigatório")}).validate(this.form,{abortEarly:!1}).then(()=>{this.errors={},this.submitForm()}).catch(e=>{const d={};e.inner.forEach(f=>{d[f.path]=f.message}),this.errors=d})},async submitForm(){this.loading=!0;try{delete this.form.id,delete this.form.password,delete this.form.createdAt,delete this.form.updatedAt,await Z(this.id,this.form),this.$snotify.success("Perfil atualizado com sucesso!")}catch(r){console.log(r)}finally{this.loading=!1}},async loadFilters(){try{const r=await ye(),e=await ve(),d=await be(),f=await xe();this.disabilities=r.data,this.genders=e.data,this.maritalStatus=d.data,this.nationalities=f.data}catch(r){console.error("Error loading filters:",r)}},async loadData(){try{const r=await Y(this.id);this.form={...this.form,...r.data,hasDisability:!!r.data.hasDisability,available_to_travel:!!r.data.available_to_travel,first_job:!!r.data.first_job}}catch(r){console.error("Error loading data:",r)}},async loadGraduations(){try{this.closeModals();const r=await fe(this.id);this.graduations=r.data}catch(r){this.$snotify.error("Erro ao carregar graduação:",r)}},editGraduation(r){this.selectedGraduation=r,this.showGraduationModal=!0},confirmDeleteGraduation(r){this.closeModals(),this.selectedGraduation=r,this.showDeleteModal=!0},async deleteGraduation(){try{await ge(this.id,this.selectedGraduation.id)}catch(r){this.$snotify.error("Erro ao excluir graduação:",r)}finally{this.loadGraduations()}},closeModals(){this.selectedGraduation=null,this.selectedCourse=null,this.selectedLanguage=null,this.selectedWorkExperience=null,this.showGraduationModal=!1,this.showCoursesModal=!1,this.showLanguageModal=!1,this.showWorkExperienceModal=!1,this.showDeleteModal=!1},handleDelete(){this.selectedGraduation?this.deleteGraduation():this.selectedCourse?this.deleteCourse():this.selectedLanguage?this.deleteLanguage():this.selectedWorkExperience&&this.deleteWorkExperience()},async loadCourses(){try{this.closeModals();const r=await Se(this.id);this.courses=r.data}catch(r){this.$snotify.error("Erro ao carregar cursos:",r)}},editCourse(r){this.selectedCourse=r,this.showCoursesModal=!0},confirmDeleteCourse(r){this.closeModals(),this.selectedCourse=r,this.showDeleteModal=!0},async deleteCourse(){try{await Ne(this.id,this.selectedCourse.id)}catch(r){this.$snotify.error("Erro ao excluir curso:",r)}finally{this.loadCourses()}},async loadLanguages(){try{this.closeModals();const r=await Ie(this.id);this.languages=r.data}catch(r){this.$snotify.error("Erro ao carregar idiomas:",r)}},editLanguage(r){this.selectedLanguage=r,this.showLanguageModal=!0},confirmDeleteLanguage(r){this.closeModals(),this.selectedLanguage=r,this.showDeleteModal=!0},async deleteLanguage(){try{await Ge(this.id,this.selectedLanguage.id)}catch(r){this.$snotify.error("Erro ao excluir idioma:",r)}finally{this.loadLanguages()}},async loadWorkExperiences(){try{this.closeModals();const r=await ze(this.id);this.workExperiences=r.data}catch(r){this.$snotify.error("Erro ao carregar experiências de trabalho:",r)}},editWorkExperience(r){this.selectedWorkExperience=r,this.showWorkExperienceModal=!0},confirmDeleteWorkExperience(r){this.closeModals(),this.selectedWorkExperience=r,this.showDeleteModal=!0},async deleteWorkExperience(){try{await Je(this.id,this.selectedWorkExperience.id)}catch(r){this.$snotify.error("Erro ao excluir experiência de trabalho:",r)}finally{this.loadWorkExperiences()}}}},lo={class:"group"},so={class:"group"},io={class:"group flex"},ao={class:"group flex"},no={class:"group flex"},uo={class:"switch"},mo={class:"group flex"},co={class:"group flex"},po={class:"group"},fo={class:"group"},ho={class:"group flex"},go={class:"group"},yo={class:"group flex"},vo={class:"group flex"},bo={class:"group flex"},xo={class:"switch"},Vo={class:"switch"},_o={class:"flex mt"},Co={key:0},Eo={class:"btns"},Mo={class:"flex"},ko={key:0},wo={class:"btns"},Do={class:"flex mt"},So={key:1},Uo=["href"],No={class:"btns"},Ao={class:"flex mt"},Fo={key:2},Lo=["href"],Oo={class:"btns"},qo={class:"group"},Io=["error"],Bo={class:"group flex"},Go={class:"group flex"};function Wo(r,e,d,f,o,n){const a=m("FormInput"),h=m("MySwitch"),x=m("MySelect"),p=m("MyAccordeon"),i=m("MyButton"),E=m("Icon"),j=m("GraduationModal"),H=m("CoursesModal"),T=m("LanguageModal"),z=m("WorkExperienceModal"),R=m("DeleteConfirmationModal");return c(),g(M,null,[s("form",{onSubmit:e[33]||(e[33]=k((...t)=>n.validate&&n.validate(...t),["prevent"]))},[l(p,{title:"Dados pessoais",isOpen:!0},{default:u(()=>[s("div",lo,[l(a,{modelValue:o.form.name,"onUpdate:modelValue":e[0]||(e[0]=t=>o.form.name=t),error:o.errors.name,type:"text",placeholder:"Digite seu nome",label:"Name"},null,8,["modelValue","error"])]),s("div",so,[l(a,{modelValue:o.form.email,"onUpdate:modelValue":e[1]||(e[1]=t=>o.form.email=t),error:o.errors.email,type:"email",placeholder:"Digite seu e-mail",label:"Email"},null,8,["modelValue","error"])]),s("div",io,[l(a,{modelValue:o.form.cpf,"onUpdate:modelValue":e[2]||(e[2]=t=>o.form.cpf=t),error:o.errors.cpf,type:"text",placeholder:"Digite seu CPF",label:"CPF"},null,8,["modelValue","error"]),l(a,{modelValue:o.form.rg,"onUpdate:modelValue":e[3]||(e[3]=t=>o.form.rg=t),error:o.errors.rg,type:"text",placeholder:"Digite seu RG",label:"RG"},null,8,["modelValue","error"])]),s("div",ao,[l(a,{modelValue:o.form.cnh,"onUpdate:modelValue":e[4]||(e[4]=t=>o.form.cnh=t),error:o.errors.cnh,type:"text",placeholder:"Digite sua CNH",label:"CNH"},null,8,["modelValue","error"]),l(a,{modelValue:o.form.typeCnh,"onUpdate:modelValue":e[5]||(e[5]=t=>o.form.typeCnh=t),error:o.errors.typeCnh,type:"text",placeholder:"Digite o tipo de CNH",label:"Tipo de CNH"},null,8,["modelValue","error"])]),s("div",no,[s("div",uo,[e[34]||(e[34]=s("span",null,"Possui deficiência?",-1)),l(h,{modelValue:o.form.hasDisability,"onUpdate:modelValue":e[6]||(e[6]=t=>o.form.hasDisability=t)},null,8,["modelValue"])]),o.form.hasDisability?(c(),w(x,{key:0,options:o.disabilities,modelValue:o.form.typeDisability,"onUpdate:modelValue":e[7]||(e[7]=t=>o.form.typeDisability=t),label:"Deficiência",error:o.errors.typeDisability},null,8,["options","modelValue","error"])):_("",!0)]),s("div",mo,[l(x,{options:o.genders,modelValue:o.form.gender,"onUpdate:modelValue":e[8]||(e[8]=t=>o.form.gender=t),label:"Sexo",error:o.errors.gender},null,8,["options","modelValue","error"]),l(x,{options:o.maritalStatus,modelValue:o.form.marital_status_id,"onUpdate:modelValue":e[9]||(e[9]=t=>o.form.marital_status_id=t),label:"Estado Civil",error:o.errors.marital_status_id},null,8,["options","modelValue","error"])]),s("div",co,[l(a,{modelValue:o.form.phoneNumber,"onUpdate:modelValue":e[10]||(e[10]=t=>o.form.phoneNumber=t),error:o.errors.phoneNumber,type:"tel",mask:"tel",placeholder:"(99) 99999-9999",label:"Telefone"},null,8,["modelValue","error"]),l(a,{modelValue:o.form.phoneNumber2,"onUpdate:modelValue":e[11]||(e[11]=t=>o.form.phoneNumber2=t),error:o.errors.phoneNumber2,type:"tel",mask:"tel",placeholder:"(99) 99999-9999",label:"Telefone 2"},null,8,["modelValue","error"])])]),_:1}),l(p,{title:"Localidade"},{default:u(()=>[s("div",po,[l(x,{options:o.nationalities,modelValue:o.form.nationality,"onUpdate:modelValue":e[12]||(e[12]=t=>o.form.nationality=t),label:"Nacionalidade",error:o.errors.nationality},null,8,["options","modelValue","error"])]),s("div",fo,[l(a,{modelValue:o.form.postal_code,"onUpdate:modelValue":e[13]||(e[13]=t=>o.form.postal_code=t),error:o.errors.postal_code,type:"text",placeholder:"Digite o CEP",label:"CEP"},null,8,["modelValue","error"])]),s("div",ho,[l(a,{modelValue:o.form.street,"onUpdate:modelValue":e[14]||(e[14]=t=>o.form.street=t),error:o.errors.street,type:"text",placeholder:"Digite a rua",label:"Rua"},null,8,["modelValue","error"]),l(a,{modelValue:o.form.number,"onUpdate:modelValue":e[15]||(e[15]=t=>o.form.number=t),error:o.errors.number,type:"number",placeholder:"555",label:"Número"},null,8,["modelValue","error"])]),s("div",go,[l(a,{modelValue:o.form.complement,"onUpdate:modelValue":e[16]||(e[16]=t=>o.form.complement=t),error:o.errors.complement,type:"text",placeholder:"Fundo A",label:"Complemento"},null,8,["modelValue","error"])]),s("div",yo,[l(a,{modelValue:o.form.neighborhood,"onUpdate:modelValue":e[17]||(e[17]=t=>o.form.neighborhood=t),error:o.errors.neighborhood,type:"text",placeholder:"Limeira",label:"Bairro"},null,8,["modelValue","error"]),l(a,{modelValue:o.form.city,"onUpdate:modelValue":e[18]||(e[18]=t=>o.form.city=t),error:o.errors.city,type:"text",placeholder:"São Paulo",label:"Cidade"},null,8,["modelValue","error"])]),s("div",vo,[l(a,{modelValue:o.form.state,"onUpdate:modelValue":e[19]||(e[19]=t=>o.form.state=t),error:o.errors.state,type:"text",placeholder:"SP",label:"Estado"},null,8,["modelValue","error"]),l(a,{modelValue:o.form.country,"onUpdate:modelValue":e[20]||(e[20]=t=>o.form.country=t),error:o.errors.country,type:"text",placeholder:"Brasil",label:"País"},null,8,["modelValue","error"])])]),_:1}),l(p,{title:"Profissional",class:"school"},{default:u(()=>[s("div",bo,[s("div",xo,[e[35]||(e[35]=s("span",null,"Disponibilidade para viagem?",-1)),l(h,{modelValue:o.form.available_to_travel,"onUpdate:modelValue":e[21]||(e[21]=t=>o.form.available_to_travel=t)},null,8,["modelValue"])]),s("div",Vo,[e[36]||(e[36]=s("span",null,"Primeiro Emprego?",-1)),l(h,{modelValue:o.form.first_job,"onUpdate:modelValue":e[22]||(e[22]=t=>o.form.first_job=t)},null,8,["modelValue"])]),l(a,{modelValue:o.form.salary_claim,"onUpdate:modelValue":e[23]||(e[23]=t=>o.form.salary_claim=t),error:o.errors.salary_claim,type:"number",placeholder:"5000",label:"Pretensão Salarial"},null,8,["modelValue","error"])]),s("div",_o,[e[38]||(e[38]=s("h2",null,"Experiência Profissional",-1)),l(i,{class:"primary",type:"button",onClick:e[24]||(e[24]=()=>o.showWorkExperienceModal=!0)},{default:u(()=>e[37]||(e[37]=[V(" Nova Experiência ")])),_:1})]),o.workExperiences.length>0?(c(),g("ul",Co,[(c(!0),g(M,null,S(o.workExperiences,t=>(c(),g("li",{key:t.id},[s("div",null,[s("p",null,b(t.position),1),s("p",null,b(t.company_name)+" - "+b(o.toFormatDate(t.start_date))+" até "+b(o.toFormatDate(t.end_date)||t.is_current_job&&"Atualmente"),1)]),s("div",Eo,[l(i,{class:"info",type:"button",onClick:O=>n.editWorkExperience(t)},{default:u(()=>[l(E,{icon:"iconamoon:pen"})]),_:2},1032,["onClick"]),l(i,{class:"danger",type:"button",onClick:()=>n.confirmDeleteWorkExperience(t)},{default:u(()=>[l(E,{icon:"iconamoon:trash"})]),_:2},1032,["onClick"])])]))),128))])):_("",!0)]),_:1}),l(p,{title:"Conhecimento",class:"school"},{default:u(()=>[s("div",Mo,[e[40]||(e[40]=s("h2",null,"Graduações",-1)),l(i,{class:"primary",type:"button",onClick:e[25]||(e[25]=()=>o.showGraduationModal=!0)},{default:u(()=>e[39]||(e[39]=[V(" Nova Graduação ")])),_:1})]),o.graduations.length>0?(c(),g("ul",ko,[(c(!0),g(M,null,S(o.graduations,t=>(c(),g("li",{key:t.id},[s("div",null,[s("p",null,b(t.courseName),1),s("p",null,b(t.status)+" - "+b(o.toFormatDate(t.endDate)),1)]),s("div",wo,[l(i,{class:"info",type:"button",onClick:O=>n.editGraduation(t)},{default:u(()=>[l(E,{icon:"iconamoon:pen"})]),_:2},1032,["onClick"]),l(i,{class:"danger",type:"button",onClick:()=>n.confirmDeleteGraduation(t)},{default:u(()=>[l(E,{icon:"iconamoon:trash"})]),_:2},1032,["onClick"])])]))),128))])):_("",!0),s("div",Do,[e[42]||(e[42]=s("h2",null,"Cursos",-1)),l(i,{class:"primary",type:"button",onClick:e[26]||(e[26]=()=>o.showCoursesModal=!0)},{default:u(()=>e[41]||(e[41]=[V(" Novo Curso ")])),_:1})]),o.courses.length>0?(c(),g("ul",So,[(c(!0),g(M,null,S(o.courses,t=>(c(),g("li",{key:t.id},[s("div",null,[s("p",null,b(t.courseName),1),s("p",null," Duração: "+b(t.durationHours)+" "+b(t.durationHours>1?"horas":"hora")+" - "+b(o.toFormatDate(t.completionDate)),1),t.certificateUrl?(c(),g("a",{key:0,href:t.certificateUrl,target:"_blank"},"Certificado",8,Uo)):_("",!0)]),s("div",No,[l(i,{class:"info",type:"button",onClick:O=>n.editCourse(t)},{default:u(()=>[l(E,{icon:"iconamoon:pen"})]),_:2},1032,["onClick"]),l(i,{class:"danger",type:"button",onClick:()=>n.confirmDeleteCourse(t)},{default:u(()=>[l(E,{icon:"iconamoon:trash"})]),_:2},1032,["onClick"])])]))),128))])):_("",!0),s("div",Ao,[e[44]||(e[44]=s("h2",null,"Idiomas",-1)),l(i,{class:"primary",type:"button",onClick:e[27]||(e[27]=()=>o.showLanguageModal=!0)},{default:u(()=>e[43]||(e[43]=[V(" Novo Idioma ")])),_:1})]),o.languages.length>0?(c(),g("ul",Fo,[(c(!0),g(M,null,S(o.languages,t=>(c(),g("li",{key:t.id},[s("div",null,[s("p",null,b(t.language)+" - "+b(t.level),1),t.certificateUrl?(c(),g("a",{key:0,href:t.certificateUrl,target:"_blank"},"Certificado",8,Lo)):_("",!0)]),s("div",Oo,[l(i,{class:"info",type:"button",onClick:O=>n.editLanguage(t)},{default:u(()=>[l(E,{icon:"iconamoon:pen"})]),_:2},1032,["onClick"]),l(i,{class:"danger",type:"button",onClick:()=>n.confirmDeleteLanguage(t)},{default:u(()=>[l(E,{icon:"iconamoon:trash"})]),_:2},1032,["onClick"])])]))),128))])):_("",!0)]),_:1}),l(p,{title:"Social"},{default:u(()=>[s("div",qo,[L(s("textarea",{class:"textarea","onUpdate:modelValue":e[28]||(e[28]=t=>o.form.presentation=t),error:o.errors.presentation,placeholder:"Apresentação"},null,8,Io),[[B,o.form.presentation]])]),s("div",Bo,[l(a,{modelValue:o.form.facebook_url,"onUpdate:modelValue":e[29]||(e[29]=t=>o.form.facebook_url=t),error:o.errors.facebook_url,type:"url",placeholder:"Digite o link do facebook",label:"Facebook"},null,8,["modelValue","error"]),l(a,{modelValue:o.form.instagram_url,"onUpdate:modelValue":e[30]||(e[30]=t=>o.form.instagram_url=t),error:o.errors.instagram_url,type:"url",placeholder:"Digite o link do instagram",label:"Instagram"},null,8,["modelValue","error"])]),s("div",Go,[l(a,{modelValue:o.form.linkedin_url,"onUpdate:modelValue":e[31]||(e[31]=t=>o.form.linkedin_url=t),error:o.errors.linkedin_url,type:"url",placeholder:"Digite o link do linkedin",label:"LinkedIn"},null,8,["modelValue","error"]),l(a,{modelValue:o.form.personal_url,"onUpdate:modelValue":e[32]||(e[32]=t=>o.form.personal_url=t),error:o.errors.personal_url,type:"url",placeholder:"Digite o link pessoal",label:"Site Pessoal"},null,8,["modelValue","error"])])]),_:1}),l(i,{class:"primary",loading:o.loading},{default:u(()=>e[45]||(e[45]=[V("Atualizar")])),_:1},8,["loading"])],32),l(j,{show:o.showGraduationModal,onOnClose:n.closeModals,onOnSave:n.loadGraduations,dataForm:o.selectedGraduation},null,8,["show","onOnClose","onOnSave","dataForm"]),l(H,{show:o.showCoursesModal,onOnClose:n.closeModals,onOnSave:n.loadCourses,dataForm:o.selectedCourse},null,8,["show","onOnClose","onOnSave","dataForm"]),l(T,{show:o.showLanguageModal,onOnClose:n.closeModals,onOnSave:n.loadLanguages,dataForm:o.selectedLanguage},null,8,["show","onOnClose","onOnSave","dataForm"]),l(z,{show:o.showWorkExperienceModal,onOnClose:n.closeModals,onOnSave:n.loadWorkExperiences,dataForm:o.selectedWorkExperience},null,8,["show","onOnClose","onOnSave","dataForm"]),l(R,{show:o.showDeleteModal,onOnClose:n.closeModals,onOnConfirm:n.handleDelete},null,8,["show","onOnClose","onOnConfirm"])],64)}const Po=C(to,[["render",Wo],["__scopeId","data-v-d7bbe54a"]]),jo={name:"UserProfile",components:{Curriculum:Po}};function Ho(r,e,d,f,o,n){const a=m("Curriculum");return c(),g("div",null,[l(a)])}const Xo=C(jo,[["render",Ho],["__scopeId","data-v-65fd4b71"]]);export{Xo as default};
