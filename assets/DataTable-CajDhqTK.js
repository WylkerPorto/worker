import{S as M}from"./SearchInput-mYCzA0Dm.js";import{I as v,u as C,_ as N,c as a,a as n,b as r,t as m,g as A,e as k,r as h,F as _,i as y,k as D,h as F,w,f as j,o}from"./index-B9JblEFK.js";import{a as L}from"./conversors-CuQg-zXY.js";import{M as T}from"./MyButton-KvBexeO8.js";const p={name:"DataTableComponent",data(){return{toFormatDate:L,search:""}},props:{items:{type:Array},columns:{type:Array},total:{type:Number},loading:{type:Boolean,default:!1},loadMore:{type:Boolean,default:!1}},components:{SearchInput:M,Icon:v,MyButton:T},emits:["onSearch","onLoadMore"],methods:{handleSearch(){this.$emit("onSearch",this.search)},getNestedValue(t,s){return s.split(".").reduce((e,f)=>e?.[f],t)}},computed:{justifyWasAction(){return this.total?"space-between":"end"}}},S=()=>{C(t=>({"3a9a58ac":t.justifyWasAction}))},g=p.setup;p.setup=g?(t,s)=>(S(),g(t,s)):S;const E={class:"data-table"},W=["colspan"],U={key:0},q={class:"header"},x={key:0},z={key:0,class:"actions"},G={key:0},H=["colspan"],J={key:1},K=["colspan"];function O(t,s,e,f,d,u){const b=h("SearchInput"),V=h("Icon"),B=h("MyButton");return o(),a("main",E,[n("table",null,[n("thead",null,[n("tr",null,[n("th",{colspan:e.columns.length+(t.$slots.actions?1:0)},[n("section",null,[e.total?(o(),a("span",U,"#"+m(e.total),1)):r("",!0),n("form",{action:"#",onSubmit:s[1]||(s[1]=A((...l)=>u.handleSearch&&u.handleSearch(...l),["stop","prevent"]))},[k(b,{modelValue:d.search,"onUpdate:modelValue":s[0]||(s[0]=l=>d.search=l)},null,8,["modelValue"])],32)])],8,W)]),n("tr",q,[(o(!0),a(_,null,y(e.columns,(l,i)=>(o(),a("th",{key:i},m(l?.title),1))),128)),t.$slots.actions?(o(),a("th",x,"Ações")):r("",!0)])]),n("tbody",null,[(o(!0),a(_,null,y(e.items,(l,i)=>(o(),a("tr",{key:i},[(o(!0),a(_,null,y(e.columns,(c,I)=>(o(),a("td",{key:I},m(c?.type==="date"?d.toFormatDate(l[c?.key]):c?.type==="boolean"?l[c?.key]?"Ativo":"Inativo":u.getNestedValue(l,c?.key)),1))),128)),t.$slots.actions?(o(),a("td",z,[D(t.$slots,"actions",{item:l},void 0)])):r("",!0)]))),128))]),e.loading?(o(),a("tbody",G,[n("tr",null,[n("td",{colspan:e.columns.length+(t.$slots.actions?1:0)},[k(V,{class:"loader",icon:"svg-spinners:3-dots-scale"})],8,H)])])):r("",!0),e.loadMore?(o(),a("tfoot",J,[n("tr",null,[n("td",{colspan:e.columns?.length+(t.$slots.actions?1:0)},[e.loading?r("",!0):(o(),F(B,{key:0,class:"primary",onClick:s[2]||(s[2]=l=>t.$emit("onLoadMore"))},{default:w(()=>s[3]||(s[3]=[j(" Carregar mais ")])),_:1}))],8,K)])])):r("",!0)])])}const Y=N(p,[["render",O],["__scopeId","data-v-d60c9768"]]);export{Y as D};
