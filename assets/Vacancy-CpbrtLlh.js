import{D as h}from"./DataTable-D8tIaOlJ.js";import{I as p,_ as u,c as g,a as s,e,w as n,r,o as _}from"./index-lwkl6pt1.js";import{l as f}from"./vacancy-D-6Ezcen.js";import"./SearchInput-DpSowfGQ.js";import"./conversors-D09fu8WP.js";import"./MyButton-BDPwgzBb.js";import"./http-BaOr58bF.js";const y={name:"SupervisorVacancy",components:{DataTable:h,Icon:p},data(){return{loading:!1,columns:[{key:"title",title:"Título"},{key:"employmentType",title:"Tipo de vaga"},{key:"status",title:"Status"},{key:"expirationDate",title:"Data de Expiração",type:"date"}],items:[],total:0,page:1,search:""}},mounted(){this.getVacancies()},methods:{async getVacancies(){this.loading=!0;try{const t=await f(this.filters);this.items.push(...t.data.vacancies),this.total=t.total}catch(t){this.$snotify.error(t)}finally{this.loading=!1}},handleSearch(t){this.search=t,this.page=1,this.items=[],this.getVacancies()},handleLoadMore(){this.page++,this.getVacancies()}},computed:{filters(){return{page:this.page,search:this.search}},loadMore(){return this.items.length<this.total}}},V={class:"card"};function k(t,i,D,M,a,o){const l=r("Icon"),c=r("RouterLink"),m=r("DataTable");return _(),g("main",null,[s("section",V,[i[0]||(i[0]=s("header",null,[s("h1",null,"Vagas")],-1)),e(m,{items:a.items,columns:a.columns,loading:a.loading,total:a.total,loadMore:o.loadMore,onOnLoadMore:o.handleLoadMore,onOnSearch:o.handleSearch},{actions:n(({item:d})=>[e(c,{class:"rounded primary",to:{name:"supervisorVacancyDetail",params:{id:d.id}},title:"Ver Candidatos"},{default:n(()=>[e(l,{icon:"mdi:user"})]),_:2},1032,["to"]),e(c,{class:"rounded primary",to:{name:"jobDetail",params:{slug:d.slug}},target:"_blank",title:"Compartilhar Vaga"},{default:n(()=>[e(l,{icon:"mdi:share"})]),_:2},1032,["to"])]),_:1},8,["items","columns","loading","total","loadMore","onOnLoadMore","onOnSearch"])])])}const C=u(y,[["render",k],["__scopeId","data-v-5b51fb93"]]);export{C as default};
