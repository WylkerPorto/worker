import{I as f,_ as g,c as r,a as n,e as c,w as u,r as i,b as p,h,t as e,f as o,o as l}from"./index-B9JblEFK.js";import{g as b}from"./vacancy-BnJRtr_w.js";import{u as M,c as k}from"./aplication-C0zXqVER.js";import{a as C}from"./conversors-CuQg-zXY.js";import{M as L}from"./MyButton-KvBexeO8.js";import"./http-DutMbpAR.js";const T={name:"UserVacancyDetail",components:{Icon:f,MyButton:L},data(){return{toFormatDate:C,vacancy:{},loading:!1}},mounted(){this.getVacancy()},methods:{async getVacancy(){try{const s=await b(this.$route.params.id);this.vacancy=s.data}catch(s){this.$snotify.error(s.response.data.message)}},async apply(){this.loading=!0;try{await k({vacancyId:parseInt(this.$route.params.id),status:"Candidatura Enviada"}),this.$snotify.success("Vaga aplicada com sucesso!"),this.vacancy.isApplied=!0}catch(s){this.$snotify.error(s)}finally{this.loading=!1}},async remove(){this.loading=!0;try{await M(this.vacancy.applications[0].id,{vacancyId:parseInt(this.$route.params.id),status:"Candidatura Retirada"}),this.$snotify.success("Candidatura removida com sucesso!"),this.vacancy.isApplied=!1}catch(s){this.$snotify.error(s)}finally{this.loading=!1}}}},x={class:"container"},D={class:"flex"},V={key:0},H=["innerHTML"],I=["innerHTML"],B=["innerHTML"],_=["innerHTML"];function w(s,a,A,R,t,d){const y=i("Icon"),m=i("RouterLink"),v=i("MyButton");return l(),r("main",x,[n("header",null,[c(m,{to:{name:"userVacancy"}},{default:u(()=>[c(y,{icon:"lets-icons:back"})]),_:1}),a[0]||(a[0]=n("h1",null,"Detalhes da vaga",-1))]),n("section",null,[n("h2",null,e(t.vacancy.title),1),n("div",D,[n("span",null,[a[1]||(a[1]=n("b",null,"Criado em: ",-1)),o(e(t.toFormatDate(t.vacancy.createdAt)),1)]),n("span",null,[a[2]||(a[2]=n("b",null,"Data de expiração: ",-1)),o(e(t.toFormatDate(t.vacancy.expirationDate)),1)])]),a[7]||(a[7]=n("hr",null,null,-1)),n("p",null,[a[3]||(a[3]=n("b",null,"Modelo de trabalho: ",-1)),o(e(t.vacancy.workModel)+" - "+e(t.vacancy.employmentType),1)]),t.vacancy.hideSalary?p("",!0):(l(),r("p",V,[a[4]||(a[4]=n("b",null,"Salário: ",-1)),o(e(t.vacancy.salary),1)])),n("p",null,[a[5]||(a[5]=n("b",null,"Local: ",-1)),o(e(t.vacancy.city)+" - "+e(t.vacancy.state),1)]),a[8]||(a[8]=n("hr",null,null,-1)),a[9]||(a[9]=n("h3",null,"Detalhes da vaga",-1)),n("div",{innerHTML:t.vacancy.description},null,8,H),a[10]||(a[10]=n("p",null,[n("b",null,"Conhecimentos:")],-1)),n("div",{innerHTML:t.vacancy.niceToHave},null,8,I),a[11]||(a[11]=n("p",null,[n("b",null,"Responsabilidades:")],-1)),n("div",{innerHTML:t.vacancy.responsibilities},null,8,B),a[12]||(a[12]=n("p",null,[n("b",null,"Requisitos:")],-1)),n("div",{innerHTML:t.vacancy.requirements},null,8,_),t.vacancy.status==="Ativa"&&!t.vacancy.isApplied?(l(),h(v,{key:1,class:"btn success",type:"button",loading:t.loading,onClick:d.apply},{default:u(()=>a[6]||(a[6]=[o(" Candidatar-se ")])),_:1},8,["loading","onClick"])):p("",!0)])])}const j=g(T,[["render",w],["__scopeId","data-v-e46d1479"]]);export{j as default};
