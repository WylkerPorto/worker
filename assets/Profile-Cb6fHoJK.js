import{F as U,c as S,a as p,e as I,b as L,d as j}from"./FormInput-DK_j1YQ3.js";import{M as G}from"./SwitchButton-h-MdDOfu.js";import{M as B}from"./MySelect-VKNu_df9.js";import{M as D}from"./MyButton-cavzMLXt.js";import{I as W,_ as E,c as g,a as s,l as q,e as l,t as x,r as m,k as P,v as K,j as Q,o as h,h as k,w as u,f as C,g as N,m as O,b as M,F as w,i as _}from"./index-BJUk5Bnl.js";import{M as F}from"./ModalBase-CqEJVM7s.js";import{h as v}from"./http-BD6d8YlU.js";import{c as X,d as Y,e as Z,f as $,h as ee,i as oe,j as re}from"./filters-CSmB2gAt.js";import{g as te,u as le}from"./user-9B3YZ-Xj.js";import{a as se}from"./conversors-D9s9cIlT.js";const ie={name:"MyAccordeon",props:{title:{type:String,required:!0},isOpen:{type:Boolean,default:!1}},data(){return{expanded:!1}},components:{Icon:W},mounted(){this.expanded=this.isOpen},methods:{toggle(){this.expanded=!this.expanded}}},ae={class:"accordeon"},ne={class:"title"},de={class:"body"};function ue(r,e,n,f,o,d){const a=m("Icon");return h(),g("div",ae,[s("div",{class:P(["header",{expanded:o.expanded}]),onClick:e[0]||(e[0]=(...y)=>d.toggle&&d.toggle(...y))},[s("span",ne,x(n.title),1),l(a,{icon:"bx:down-arrow"})],2),q(s("div",de,[Q(r.$slots,"default",{},void 0)],512),[[K,o.expanded]])])}const me=E(ie,[["render",ue],["__scopeId","data-v-e0d60593"]]),pe=(r,e)=>v.authApi().post(`/person/${r}/graduation`,e),ce=r=>v.authApi().get(`/person/${r}/graduation`),fe=(r,e,n)=>v.authApi().put(`/person/${r}/graduation/${e}`,n),he=(r,e)=>v.authApi().delete(`/person/${r}/graduation/${e}`),ge={name:"GraduationModal",components:{ModalBase:F,FormInput:U,MyButton:D,MySelect:B},props:{show:{type:Boolean,default:!1},dataForm:{type:Object}},emits:["onClose","onSave"],data(){return{form:{},errors:{},loading:!1,educationLevels:[],educationStatus:[]}},watch:{dataForm(){this.dataForm?this.form={...this.form,...this.dataForm}:this.form={}}},async mounted(){try{const r=await X(),e=await Y();this.educationLevels=r.data.map(n=>({id:n.title,title:n.title})),this.educationStatus=e.data.map(n=>({id:n.title,title:n.title}))}catch(r){this.$snotify.error("Erro ao carregar os níveis e status de educação: "+r)}},methods:{validate(){S({institutionName:p().required("Nome da instituição é obrigatório"),courseName:p().required("Nome do curso é obrigatório"),educationLevel:p().oneOf(this.educationLevels.map(e=>e.title),"Nível inválido").required("Nível é obrigatório"),status:p().oneOf(this.educationStatus.map(e=>e.title),"Status inválido").required("Status é obrigatório"),startDate:p().required("Data de início é obrigatória"),endDate:p().required("Data de conclusão é obrigatória")}).validate(this.form,{abortEarly:!1}).then(()=>{this.errors={},this.saveGraduation()}).catch(e=>{const n={};e.inner.forEach(f=>{n[f.path]=f.message}),this.errors=n})},async saveGraduation(){this.loading=!0;try{const r=!!this.form.id,e=localStorage.getItem("uid");r&&(delete this.form.id,delete this.form.createdAt,delete this.form.updatedAt,delete this.form.deletedAt),r?await fe(e,this.dataForm.id,this.form):await pe(e,this.form),this.$snotify.success(`Graduação ${r?"atualizada":"criada"} com sucesso`),this.$emit("onSave"),this.closeModal()}catch(r){this.$snotify.error("Erro ao salvar a graduação: "+r)}finally{this.loading=!1}},closeModal(){this.form={},this.errors={},this.$emit("onClose")}},computed:{levelList(){return this.educationLevels.map(r=>({id:r.id,title:r.title}))},statusList(){return this.educationStatus.map(r=>({id:r.id,title:r.title}))}}},ye={class:"flex"};function ve(r,e,n,f,o,d){const a=m("FormInput"),y=m("MySelect"),b=m("MyButton"),c=m("ModalBase");return h(),k(c,{open:n.show,loading:o.loading,title:"Nova Graduação",onOnClose:e[7]||(e[7]=i=>r.$emit("onClose"))},{content:u(()=>[s("form",{onSubmit:e[6]||(e[6]=N((...i)=>d.validate&&d.validate(...i),["prevent"]))},[l(a,{label:"Instituição",type:"text",placeholder:"Universidade do Estado de São Paulo",modelValue:o.form.institutionName,"onUpdate:modelValue":e[0]||(e[0]=i=>o.form.institutionName=i),error:o.errors.institutionName,required:""},null,8,["modelValue","error"]),l(a,{label:"Curso",type:"text",placeholder:"Ciência da Computação",modelValue:o.form.courseName,"onUpdate:modelValue":e[1]||(e[1]=i=>o.form.courseName=i),error:o.errors.courseName,required:""},null,8,["modelValue","error"]),l(y,{label:"Nível",options:d.levelList,modelValue:o.form.educationLevel,"onUpdate:modelValue":e[2]||(e[2]=i=>o.form.educationLevel=i),error:o.errors.educationLevel,required:""},null,8,["options","modelValue","error"]),l(y,{label:"Status",options:d.statusList,modelValue:o.form.status,"onUpdate:modelValue":e[3]||(e[3]=i=>o.form.status=i),error:o.errors.status,required:""},null,8,["options","modelValue","error"]),s("div",ye,[l(a,{label:"Data de inicio",type:"date",modelValue:o.form.startDate,"onUpdate:modelValue":e[4]||(e[4]=i=>o.form.startDate=i),error:o.errors.startDate,required:""},null,8,["modelValue","error"]),l(a,{label:"Data de conclusão",type:"date",modelValue:o.form.endDate,"onUpdate:modelValue":e[5]||(e[5]=i=>o.form.endDate=i),error:o.errors.endDate,required:""},null,8,["modelValue","error"])])],32)]),actions:u(()=>[l(b,{class:"btn success",loading:o.loading,onClick:d.validate},{default:u(()=>e[8]||(e[8]=[C("Salvar")])),_:1},8,["loading","onClick"])]),_:1},8,["open","loading"])}const be=E(ge,[["render",ve],["__scopeId","data-v-f83a6b7e"]]),xe=(r,e)=>v.authApi().post(`/person/${r}/complementary-course`,e),Ce=r=>v.authApi().get(`/person/${r}/complementary-course`),Ve=(r,e,n)=>v.authApi().put(`/person/${r}/complementary-course/${e}`,n),Ee=(r,e)=>v.authApi().delete(`/person/${r}/complementary-course/${e}`),Me={name:"CoursesModal",components:{ModalBase:F,FormInput:U,MyButton:D},props:{show:{type:Boolean,default:!1},dataForm:{type:Object}},emits:["onClose","onSave"],data(){return{form:{},errors:{},loading:!1}},watch:{dataForm(){this.dataForm?this.form={...this.form,...this.dataForm}:this.form={}}},methods:{validate(){S({institutionName:p().required("Nome da instituição é obrigatório"),courseName:p().required("Nome do curso é obrigatório"),durationHours:L().typeError("Duração deve ser um número").positive("Duração deve ser um número positivo").nullable(),completionDate:I().typeError("Data de conclusão deve ser uma data válida").nullable(),certificateUrl:p().url("URL do certificado deve ser uma URL válida").nullable(),description:p().nullable()}).validate(this.form,{abortEarly:!1}).then(()=>{this.errors={},this.saveCourse()}).catch(e=>{const n={};e.inner.forEach(f=>{n[f.path]=f.message}),this.errors=n})},async saveCourse(){this.loading=!0;try{const r=!!this.form.id,e=localStorage.getItem("uid");r&&(delete this.form.id,delete this.form.createdAt,delete this.form.updatedAt,delete this.form.deletedAt),r?await Ve(e,this.dataForm.id,this.form):await xe(e,this.form),this.$snotify.success(`Curso ${r?"atualizada":"criada"} com sucesso`),this.$emit("onSave"),this.closeModal()}catch(r){this.$snotify.error("Erro ao salvar curso: "+r)}finally{this.loading=!1}},closeModal(){this.form={},this.errors={},this.$emit("onClose")}}},De={class:"flex"};function ke(r,e,n,f,o,d){const a=m("FormInput"),y=m("MyButton"),b=m("ModalBase");return h(),k(b,{open:n.show,loading:o.loading,title:"Novo Curso",onOnClose:e[7]||(e[7]=c=>r.$emit("onClose"))},{content:u(()=>[s("form",{onSubmit:e[6]||(e[6]=N((...c)=>d.validate&&d.validate(...c),["prevent"]))},[l(a,{label:"Instituição",type:"text",placeholder:"Universidade do Estado de São Paulo",modelValue:o.form.institutionName,"onUpdate:modelValue":e[0]||(e[0]=c=>o.form.institutionName=c),error:o.errors.institutionName,required:""},null,8,["modelValue","error"]),l(a,{label:"Nome do Curso",type:"text",placeholder:"Ciência da Computação",modelValue:o.form.courseName,"onUpdate:modelValue":e[1]||(e[1]=c=>o.form.courseName=c),error:o.errors.courseName,required:""},null,8,["modelValue","error"]),s("div",De,[l(a,{label:"Horas de Duração",type:"number",modelValue:o.form.durationHours,"onUpdate:modelValue":e[2]||(e[2]=c=>o.form.durationHours=c),error:o.errors.durationHours},null,8,["modelValue","error"]),l(a,{label:"Data de conclusão",type:"date",modelValue:o.form.completionDate,"onUpdate:modelValue":e[3]||(e[3]=c=>o.form.completionDate=c),error:o.errors.completionDate},null,8,["modelValue","error"])]),l(a,{label:"Url do Certificado",type:"text",placeholder:"https://example.com/certificado",modelValue:o.form.certificateUrl,"onUpdate:modelValue":e[4]||(e[4]=c=>o.form.certificateUrl=c),error:o.errors.certificateUrl},null,8,["modelValue","error"]),q(s("textarea",{class:"textarea","onUpdate:modelValue":e[5]||(e[5]=c=>o.form.description=c),placeholder:"Descrição do curso",rows:"7"},null,512),[[O,o.form.description]])],32)]),actions:u(()=>[l(y,{class:"btn success",loading:o.loading,onClick:d.validate},{default:u(()=>e[8]||(e[8]=[C("Salvar")])),_:1},8,["loading","onClick"])]),_:1},8,["open","loading"])}const we=E(Me,[["render",ke],["__scopeId","data-v-d1a1a96e"]]),Ue=(r,e)=>v.authApi().post(`/person/${r}/languageskill`,e),Se=r=>v.authApi().get(`/person/${r}/languageskill`),Ne=(r,e,n)=>v.authApi().put(`/person/${r}/languageskill/${e}`,n),Fe=(r,e)=>v.authApi().delete(`/person/${r}/languageskill/${e}`),_e={name:"LanguageModal",components:{ModalBase:F,MyButton:D,FormInput:U,MySelect:B},props:{show:{type:Boolean,default:!1},dataForm:{type:Object}},emits:["onClose","onSave"],data(){return{form:{},errors:{},loading:!1,languageStatus:[]}},watch:{dataForm(){this.dataForm?this.form={...this.form,...this.dataForm}:this.form={}}},async mounted(){try{const r=await Z();this.languageStatus=r.data}catch(r){this.$snotify.error("Erro ao carregar os níveis de proficiência: "+r)}},methods:{validate(){S().shape({language:p().required("O nome do idioma é obrigatório"),level:p().oneOf(this.languageStatus.map(e=>e.title),"Nível inválido").required("O nível de proficiência é obrigatório"),certificateUrl:p().url("URL do certificado deve ser uma URL válida").nullable()}).validate(this.form,{abortEarly:!1}).then(()=>{this.errors={},this.saveLanguage()}).catch(e=>{const n={};e.inner.forEach(f=>{n[f.path]=f.message}),this.errors=n})},async saveLanguage(){this.loading=!0;try{const r=!!this.form.id,e=localStorage.getItem("uid");r&&(delete this.form.id,delete this.form.createdAt,delete this.form.updatedAt,delete this.form.deletedAt),r?await Ne(e,this.dataForm.id,this.form):await Ue(e,this.form),this.$snotify.success(`Idioma ${r?"atualizado":"criado"} com sucesso`),this.$emit("onSave"),this.closeModal()}catch(r){this.$snotify.error("Erro ao salvar idioma:",r)}finally{this.loading=!1}},closeModal(){this.form={},this.errors={},this.$emit("onClose")}},computed:{statusList(){return this.languageStatus.map(r=>({id:r.title,title:r.title}))}}},Le={class:"flex"};function qe(r,e,n,f,o,d){const a=m("FormInput"),y=m("MySelect"),b=m("MyButton"),c=m("ModalBase");return h(),k(c,{open:n.show,onOnClose:e[4]||(e[4]=i=>r.$emit("onClose")),title:"Novo Idioma"},{content:u(()=>[s("form",{onSubmit:e[3]||(e[3]=N((...i)=>d.validate&&d.validate(...i),["prevent"]))},[s("div",Le,[l(a,{label:"Nome do Idioma",type:"text",placeholder:"Português",modelValue:o.form.language,"onUpdate:modelValue":e[0]||(e[0]=i=>o.form.language=i),error:o.errors.language,required:""},null,8,["modelValue","error"]),l(y,{label:"Nível de Proficiência",options:d.statusList,modelValue:o.form.level,"onUpdate:modelValue":e[1]||(e[1]=i=>o.form.level=i),error:o.errors.level,required:""},null,8,["options","modelValue","error"])]),l(a,{label:"Url do Certificado",type:"text",placeholder:"https://example.com/certificado",modelValue:o.form.certificateUrl,"onUpdate:modelValue":e[2]||(e[2]=i=>o.form.certificateUrl=i),error:o.errors.certificateUrl,required:""},null,8,["modelValue","error"])],32)]),actions:u(()=>[l(b,{class:"btn success",loading:o.loading,onClick:d.validate},{default:u(()=>e[5]||(e[5]=[C("Salvar")])),_:1},8,["loading","onClick"])]),_:1},8,["open"])}const Ae=E(_e,[["render",qe],["__scopeId","data-v-248c6518"]]),Ie=(r,e)=>v.authApi().post(`/person/${r}/work-experience`,e),Be=r=>v.authApi().get(`/person/${r}/work-experience`),Oe=(r,e,n)=>v.authApi().put(`/person/${r}/work-experience/${e}`,n),Ge=(r,e)=>v.authApi().delete(`/person/${r}/work-experience/${e}`),We={name:"WorkExperienceModal",components:{ModalBase:F,FormInput:U,MyButton:D,SwitchButton:G},props:{show:{type:Boolean,default:!1},dataForm:{type:Object}},emits:["onClose","onSave"],data(){return{form:{},errors:{},loading:!1}},watch:{dataForm(){this.dataForm?this.form={...this.form,...this.dataForm}:this.form={isCurrentJob:!1}}},created(){this.form={isCurrentJob:!1}},methods:{validate(){S({position:p().required("Cargo é obrigatório"),department:p().required("Departamento é obrigatório"),companyName:p().required("Empresa é obrigatória"),startDate:I().required("Data de início é obrigatória"),endDate:I().nullable().transform((e,n)=>n===""?null:e),description:p().required("Descrição é obrigatória"),salary:L().min(0,"Salário deve ser um número positivo").nullable(),employmentType:p().required("Tipo de contratação é obrigatório"),isCurrentJob:j().required("Status de trabalho atual é obrigatório")}).validate(this.form,{abortEarly:!1}).then(()=>{this.errors={},this.saveWork()}).catch(e=>{const n={};e.inner.forEach(f=>{n[f.path]=f.message}),this.errors=n})},async saveWork(){this.loading=!0;try{const r=!!this.form.id,e=localStorage.getItem("uid");r&&(delete this.form.id,delete this.form.createdAt,delete this.form.updatedAt,delete this.form.deletedAt),r?await Oe(e,this.dataForm.id,this.form):await Ie(e,this.form),this.$snotify.success(`Experiência ${r?"atualizada":"criada"} com sucesso!`),this.$emit("onSave"),this.closeModal()}catch(r){console.error("Erro ao salvar experiência:",r)}finally{this.loading=!1}},closeModal(){this.form={isCurrentJob:!1},this.errors={},this.$emit("onClose")}}},Pe={class:"flex"},Te={class:"switch"},He={class:"flex"};function Je(r,e,n,f,o,d){const a=m("FormInput"),y=m("SwitchButton"),b=m("MyButton"),c=m("ModalBase");return h(),k(c,{open:n.show,loading:o.loading,title:"Nova Experiência Profissional",onOnClose:e[10]||(e[10]=i=>r.$emit("onClose"))},{content:u(()=>[s("form",{onSubmit:e[9]||(e[9]=N((...i)=>d.validate&&d.validate(...i),["prevent"]))},[l(a,{label:"Cargo",type:"text",placeholder:"Nome do Cargo",modelValue:o.form.position,"onUpdate:modelValue":e[0]||(e[0]=i=>o.form.position=i),error:o.errors.position,required:""},null,8,["modelValue","error"]),l(a,{label:"Departamento",type:"text",placeholder:"Nome do Departamento",modelValue:o.form.department,"onUpdate:modelValue":e[1]||(e[1]=i=>o.form.department=i),error:o.errors.department,required:""},null,8,["modelValue","error"]),l(a,{label:"Empresa",type:"text",placeholder:"Nome da Empresa",modelValue:o.form.companyName,"onUpdate:modelValue":e[2]||(e[2]=i=>o.form.companyName=i),error:o.errors.companyName,required:""},null,8,["modelValue","error"]),s("div",Pe,[l(a,{label:"Data de Início",type:"date",modelValue:o.form.startDate,"onUpdate:modelValue":e[3]||(e[3]=i=>o.form.startDate=i),error:o.errors.startDate,required:""},null,8,["modelValue","error"]),l(a,{label:"Data de Término",type:"date",modelValue:o.form.endDate,"onUpdate:modelValue":e[4]||(e[4]=i=>o.form.endDate=i),error:o.errors.endDate},null,8,["modelValue","error"]),s("div",Te,[e[11]||(e[11]=s("label",null,"Atualmente Trabalhando",-1)),l(y,{modelValue:o.form.isCurrentJob,"onUpdate:modelValue":e[5]||(e[5]=i=>o.form.isCurrentJob=i),required:""},null,8,["modelValue"])])]),s("div",He,[l(a,{label:"Tipo de Contratação",type:"text",placeholder:"full-time, part-time, freelance",modelValue:o.form.employmentType,"onUpdate:modelValue":e[6]||(e[6]=i=>o.form.employmentType=i),error:o.errors.employmentType,required:""},null,8,["modelValue","error"]),l(a,{label:"Salário",type:"number",placeholder:"Informe seu salário",modelValue:o.form.salary,"onUpdate:modelValue":e[7]||(e[7]=i=>o.form.salary=i),modelModifiers:{number:!0},error:o.errors.salary},null,8,["modelValue","error"])]),s("div",null,[q(s("textarea",{class:P(["textarea",{error:o.errors.description}]),"onUpdate:modelValue":e[8]||(e[8]=i=>o.form.description=i),placeholder:"Descreva suas responsabilidades e conquistas",rows:"5"},null,2),[[O,o.form.description]]),s("span",null,x(o.errors.description),1)])],32)]),actions:u(()=>[l(b,{class:"btn success",loading:o.loading,onClick:d.validate},{default:u(()=>e[12]||(e[12]=[C("Salvar")])),_:1},8,["loading","onClick"])]),_:1},8,["open","loading"])}const Re=E(We,[["render",Je],["__scopeId","data-v-b6823263"]]),ze={name:"DeleteConfirmationModal",props:{show:{type:Boolean,required:!0}},emits:["onClose","onConfirm"],components:{ModalBase:F,MyButton:D}};function je(r,e,n,f,o,d){const a=m("MyButton"),y=m("ModalBase");return h(),k(y,{open:n.show,title:"Confirmação de Exclusão",onOnClose:e[2]||(e[2]=b=>r.$emit("onClose"))},{content:u(()=>e[3]||(e[3]=[s("p",null,"Você tem certeza que deseja excluir este item?",-1),s("p",null,"Esta ação não pode ser desfeita.",-1)])),actions:u(()=>[l(a,{class:"btn danger",onClick:e[0]||(e[0]=b=>r.$emit("onConfirm"))},{default:u(()=>e[4]||(e[4]=[C("Excluir")])),_:1}),l(a,{class:"btn secondary",onClick:e[1]||(e[1]=b=>r.$emit("onClose"))},{default:u(()=>e[5]||(e[5]=[C("Cancelar")])),_:1})]),_:1},8,["open"])}const Ke=E(ze,[["render",je]]),Qe={name:"UserCurriculum",data(){return{toFormatDate:se,id:null,form:{},disabilities:[],genders:[],maritalStatus:[],nationalities:[],graduations:[],courses:[],languages:[],workExperiences:[],errors:{},loading:!1,showGraduationModal:!1,selectedGraduation:null,showCoursesModal:!1,selectedCourse:null,showDeleteModal:!1,selectedLanguage:null,showLanguageModal:!1,showWorkExperienceModal:!1,selectedWorkExperience:null}},components:{FormInput:U,MySwitch:G,MySelect:B,MyButton:D,MyAccordeon:me,GraduationModal:be,CoursesModal:we,LanguageModal:Ae,WorkExperienceModal:Re,DeleteConfirmationModal:Ke,Icon:W},watch:{"form.hasDisability"(r){r||(this.form.typeDisability="")}},created(){this.id=localStorage.getItem("uid")},mounted(){this.loadFilters(),this.loadData(),this.loadGraduations(),this.loadCourses(),this.loadLanguages(),this.loadWorkExperiences()},methods:{validate(){S({name:p().min(3,"Nome deve ter pelo menos 3 caracteres").required("Nome é obrigatório"),email:p().email("E-mail inválido").required("E-mail é obrigatório"),gender:p().min(1,"Selecione um sexo").required("Sexo é obrigatório"),maritalStatusId:L().min(1,"Selecione um estado civil").required("Estado civil é obrigatório"),nationality:p().min(1,"Selecione uma nacionalidade").required("Nacionalidade é obrigatória"),phoneNumber:p().min(10,"Telefone inválido").required("Telefone é obrigatório"),postalCode:p().min(8,"CEP inválido").required("CEP é obrigatório"),street:p().min(3,"Rua deve ter pelo menos 3 caracteres").required("Rua é obrigatória"),number:L().typeError("Número deve ser um número").required("Número é obrigatório"),neighborhood:p().min(3,"Bairro deve ter pelo menos 3 caracteres").required("Bairro é obrigatório"),city:p().min(3,"Cidade deve ter pelo menos 3 caracteres").required("Cidade é obrigatória"),state:p().min(2,"Estado deve ter pelo menos 2 caracteres").required("Estado é obrigatório"),country:p().min(3,"País deve ter pelo menos 3 caracteres").required("País é obrigatório")}).validate(this.form,{abortEarly:!1}).then(()=>{this.errors={},this.submitForm()}).catch(e=>{const n={};e.inner.forEach(f=>{n[f.path]=f.message}),this.errors=n})},async submitForm(){this.loading=!0;try{delete this.form.id,delete this.form.password,delete this.form.createdAt,delete this.form.updatedAt,delete this.form.deletedAt,await le(this.id,this.form),this.$snotify.success("Perfil atualizado com sucesso!")}catch(r){console.log(r)}finally{this.loading=!1}},async loadFilters(){try{const r=await $(),e=await ee(),n=await oe(),f=await re();this.disabilities=r.data.map(o=>({id:o.title,title:o.title})),this.genders=e.data.map(o=>({id:o.title,title:o.title})),this.maritalStatus=n.data.map(o=>({id:o.id,title:o.title})),this.nationalities=f.data.map(o=>({id:o.title,title:o.title}))}catch(r){console.error("Error loading filters:",r)}},async loadData(){try{const r=await te(this.id);this.form={...this.form,...r.data,hasDisability:!!r.data.hasDisability,availableToTravel:!!r.data.availableToTravel,firstJob:!!r.data.firstJob}}catch(r){console.error("Error loading data:",r)}},async loadGraduations(){try{this.closeModals();const r=await ce(this.id);this.graduations=r.data}catch(r){this.$snotify.error("Erro ao carregar graduação:",r)}},editGraduation(r){this.selectedGraduation=r,this.showGraduationModal=!0},confirmDeleteGraduation(r){this.closeModals(),this.selectedGraduation=r,this.showDeleteModal=!0},async deleteGraduation(){try{await he(this.id,this.selectedGraduation.id)}catch(r){this.$snotify.error("Erro ao excluir graduação:",r)}finally{this.loadGraduations()}},closeModals(){this.selectedGraduation=null,this.selectedCourse=null,this.selectedLanguage=null,this.selectedWorkExperience=null,this.showGraduationModal=!1,this.showCoursesModal=!1,this.showLanguageModal=!1,this.showWorkExperienceModal=!1,this.showDeleteModal=!1},handleDelete(){this.selectedGraduation?this.deleteGraduation():this.selectedCourse?this.deleteCourse():this.selectedLanguage?this.deleteLanguage():this.selectedWorkExperience&&this.deleteWorkExperience()},async loadCourses(){try{this.closeModals();const r=await Ce(this.id);this.courses=r.data}catch(r){this.$snotify.error("Erro ao carregar cursos:",r)}},editCourse(r){this.selectedCourse=r,this.showCoursesModal=!0},confirmDeleteCourse(r){this.closeModals(),this.selectedCourse=r,this.showDeleteModal=!0},async deleteCourse(){try{await Ee(this.id,this.selectedCourse.id)}catch(r){this.$snotify.error("Erro ao excluir curso:",r)}finally{this.loadCourses()}},async loadLanguages(){try{this.closeModals();const r=await Se(this.id);this.languages=r.data}catch(r){this.$snotify.error("Erro ao carregar idiomas:",r)}},editLanguage(r){this.selectedLanguage=r,this.showLanguageModal=!0},confirmDeleteLanguage(r){this.closeModals(),this.selectedLanguage=r,this.showDeleteModal=!0},async deleteLanguage(){try{await Fe(this.id,this.selectedLanguage.id)}catch(r){this.$snotify.error("Erro ao excluir idioma:",r)}finally{this.loadLanguages()}},async loadWorkExperiences(){try{this.closeModals();const r=await Be(this.id);this.workExperiences=r.data}catch(r){this.$snotify.error("Erro ao carregar experiências de trabalho:",r)}},editWorkExperience(r){this.selectedWorkExperience=r,this.showWorkExperienceModal=!0},confirmDeleteWorkExperience(r){this.closeModals(),this.selectedWorkExperience=r,this.showDeleteModal=!0},async deleteWorkExperience(){try{await Ge(this.id,this.selectedWorkExperience.id)}catch(r){this.$snotify.error("Erro ao excluir experiência de trabalho:",r)}finally{this.loadWorkExperiences()}}}},Xe={class:"group"},Ye={class:"group"},Ze={class:"group flex"},$e={class:"group flex"},eo={class:"group flex"},oo={class:"switch"},ro={class:"group flex"},to={class:"group flex"},lo={class:"group"},so={class:"group"},io={class:"group flex"},ao={class:"group"},no={class:"group flex"},uo={class:"group flex"},mo={class:"group flex"},po={class:"switch"},co={class:"switch"},fo={class:"flex mt"},ho={key:0},go={class:"btns"},yo={class:"flex"},vo={key:0},bo={class:"btns"},xo={class:"flex mt"},Co={key:1},Vo=["href"],Eo={class:"btns"},Mo={class:"flex mt"},Do={key:2},ko=["href"],wo={class:"btns"},Uo={class:"group"},So=["error"],No={class:"group flex"},Fo={class:"group flex"};function _o(r,e,n,f,o,d){const a=m("FormInput"),y=m("MySwitch"),b=m("MySelect"),c=m("MyAccordeon"),i=m("MyButton"),V=m("Icon"),T=m("GraduationModal"),H=m("CoursesModal"),J=m("LanguageModal"),R=m("WorkExperienceModal"),z=m("DeleteConfirmationModal");return h(),g(w,null,[s("form",{onSubmit:e[33]||(e[33]=N((...t)=>d.validate&&d.validate(...t),["prevent"]))},[l(c,{title:"Dados pessoais",isOpen:!0},{default:u(()=>[s("div",Xe,[l(a,{modelValue:o.form.name,"onUpdate:modelValue":e[0]||(e[0]=t=>o.form.name=t),error:o.errors.name,type:"text",placeholder:"Digite seu nome",label:"Name"},null,8,["modelValue","error"])]),s("div",Ye,[l(a,{modelValue:o.form.email,"onUpdate:modelValue":e[1]||(e[1]=t=>o.form.email=t),error:o.errors.email,type:"email",placeholder:"Digite seu e-mail",label:"Email"},null,8,["modelValue","error"])]),s("div",Ze,[l(a,{modelValue:o.form.cpf,"onUpdate:modelValue":e[2]||(e[2]=t=>o.form.cpf=t),error:o.errors.cpf,type:"text",placeholder:"Digite seu CPF",label:"CPF"},null,8,["modelValue","error"]),l(a,{modelValue:o.form.rg,"onUpdate:modelValue":e[3]||(e[3]=t=>o.form.rg=t),error:o.errors.rg,type:"text",placeholder:"Digite seu RG",label:"RG"},null,8,["modelValue","error"])]),s("div",$e,[l(a,{modelValue:o.form.cnh,"onUpdate:modelValue":e[4]||(e[4]=t=>o.form.cnh=t),error:o.errors.cnh,type:"text",placeholder:"Digite sua CNH",label:"CNH"},null,8,["modelValue","error"]),l(a,{modelValue:o.form.typeCnh,"onUpdate:modelValue":e[5]||(e[5]=t=>o.form.typeCnh=t),error:o.errors.typeCnh,type:"text",placeholder:"Digite o tipo de CNH",label:"Tipo de CNH"},null,8,["modelValue","error"])]),s("div",eo,[s("div",oo,[e[34]||(e[34]=s("span",null,"Possui deficiência?",-1)),l(y,{modelValue:o.form.hasDisability,"onUpdate:modelValue":e[6]||(e[6]=t=>o.form.hasDisability=t)},null,8,["modelValue"])]),o.form.hasDisability?(h(),k(b,{key:0,options:o.disabilities,modelValue:o.form.typeDisability,"onUpdate:modelValue":e[7]||(e[7]=t=>o.form.typeDisability=t),label:"Deficiência",error:o.errors.typeDisability},null,8,["options","modelValue","error"])):M("",!0)]),s("div",ro,[l(b,{options:o.genders,modelValue:o.form.gender,"onUpdate:modelValue":e[8]||(e[8]=t=>o.form.gender=t),label:"Sexo",error:o.errors.gender},null,8,["options","modelValue","error"]),l(b,{options:o.maritalStatus,modelValue:o.form.maritalStatusId,"onUpdate:modelValue":e[9]||(e[9]=t=>o.form.maritalStatusId=t),modelModifiers:{number:!0},label:"Estado Civil",error:o.errors.maritalStatusId},null,8,["options","modelValue","error"])]),s("div",to,[l(a,{modelValue:o.form.phoneNumber,"onUpdate:modelValue":e[10]||(e[10]=t=>o.form.phoneNumber=t),error:o.errors.phoneNumber,type:"tel",mask:"tel",placeholder:"(99) 99999-9999",label:"Telefone"},null,8,["modelValue","error"]),l(a,{modelValue:o.form.phoneNumber2,"onUpdate:modelValue":e[11]||(e[11]=t=>o.form.phoneNumber2=t),error:o.errors.phoneNumber2,type:"tel",mask:"tel",placeholder:"(99) 99999-9999",label:"Telefone 2"},null,8,["modelValue","error"])])]),_:1}),l(c,{title:"Localidade"},{default:u(()=>[s("div",lo,[l(b,{options:o.nationalities,modelValue:o.form.nationality,"onUpdate:modelValue":e[12]||(e[12]=t=>o.form.nationality=t),label:"Nacionalidade",error:o.errors.nationality},null,8,["options","modelValue","error"])]),s("div",so,[l(a,{modelValue:o.form.postalCode,"onUpdate:modelValue":e[13]||(e[13]=t=>o.form.postalCode=t),error:o.errors.postalCode,type:"text",placeholder:"Digite o CEP",label:"CEP"},null,8,["modelValue","error"])]),s("div",io,[l(a,{modelValue:o.form.street,"onUpdate:modelValue":e[14]||(e[14]=t=>o.form.street=t),error:o.errors.street,type:"text",placeholder:"Digite a rua",label:"Rua"},null,8,["modelValue","error"]),l(a,{modelValue:o.form.number,"onUpdate:modelValue":e[15]||(e[15]=t=>o.form.number=t),modelModifiers:{number:!0},error:o.errors.number,type:"number",placeholder:"555",label:"Número"},null,8,["modelValue","error"])]),s("div",ao,[l(a,{modelValue:o.form.complement,"onUpdate:modelValue":e[16]||(e[16]=t=>o.form.complement=t),error:o.errors.complement,type:"text",placeholder:"Fundo A",label:"Complemento"},null,8,["modelValue","error"])]),s("div",no,[l(a,{modelValue:o.form.neighborhood,"onUpdate:modelValue":e[17]||(e[17]=t=>o.form.neighborhood=t),error:o.errors.neighborhood,type:"text",placeholder:"Limeira",label:"Bairro"},null,8,["modelValue","error"]),l(a,{modelValue:o.form.city,"onUpdate:modelValue":e[18]||(e[18]=t=>o.form.city=t),error:o.errors.city,type:"text",placeholder:"São Paulo",label:"Cidade"},null,8,["modelValue","error"])]),s("div",uo,[l(a,{modelValue:o.form.state,"onUpdate:modelValue":e[19]||(e[19]=t=>o.form.state=t),error:o.errors.state,type:"text",placeholder:"SP",label:"Estado"},null,8,["modelValue","error"]),l(a,{modelValue:o.form.country,"onUpdate:modelValue":e[20]||(e[20]=t=>o.form.country=t),error:o.errors.country,type:"text",placeholder:"Brasil",label:"País"},null,8,["modelValue","error"])])]),_:1}),l(c,{title:"Profissional",class:"school"},{default:u(()=>[s("div",mo,[s("div",po,[e[35]||(e[35]=s("span",null,"Disponibilidade para viagem?",-1)),l(y,{modelValue:o.form.availableToTravel,"onUpdate:modelValue":e[21]||(e[21]=t=>o.form.availableToTravel=t)},null,8,["modelValue"])]),s("div",co,[e[36]||(e[36]=s("span",null,"Primeiro Emprego?",-1)),l(y,{modelValue:o.form.firstJob,"onUpdate:modelValue":e[22]||(e[22]=t=>o.form.firstJob=t)},null,8,["modelValue"])]),l(a,{modelValue:o.form.salaryClaim,"onUpdate:modelValue":e[23]||(e[23]=t=>o.form.salaryClaim=t),modelModifiers:{number:!0},error:o.errors.salaryClaim,type:"number",placeholder:"5000",label:"Pretensão Salarial"},null,8,["modelValue","error"])]),s("div",fo,[e[38]||(e[38]=s("h2",null,"Experiência Profissional",-1)),l(i,{class:"primary",type:"button",onClick:e[24]||(e[24]=()=>o.showWorkExperienceModal=!0)},{default:u(()=>e[37]||(e[37]=[C(" Nova Experiência ")])),_:1})]),o.workExperiences.length>0?(h(),g("ul",ho,[(h(!0),g(w,null,_(o.workExperiences,t=>(h(),g("li",{key:t.id},[s("div",null,[s("p",null,x(t.position),1),s("p",null,x(t.companyName)+" - "+x(o.toFormatDate(t.startDate))+" até "+x(o.toFormatDate(t.endDate)||t.isCurrentJob&&"Atualmente"),1)]),s("div",go,[l(i,{class:"info",type:"button",onClick:A=>d.editWorkExperience(t)},{default:u(()=>[l(V,{icon:"iconamoon:pen"})]),_:2},1032,["onClick"]),l(i,{class:"danger",type:"button",onClick:()=>d.confirmDeleteWorkExperience(t)},{default:u(()=>[l(V,{icon:"iconamoon:trash"})]),_:2},1032,["onClick"])])]))),128))])):M("",!0)]),_:1}),l(c,{title:"Conhecimento",class:"school"},{default:u(()=>[s("div",yo,[e[40]||(e[40]=s("h2",null,"Graduações",-1)),l(i,{class:"primary",type:"button",onClick:e[25]||(e[25]=()=>o.showGraduationModal=!0)},{default:u(()=>e[39]||(e[39]=[C(" Nova Graduação ")])),_:1})]),o.graduations.length>0?(h(),g("ul",vo,[(h(!0),g(w,null,_(o.graduations,t=>(h(),g("li",{key:t.id},[s("div",null,[s("p",null,x(t.courseName),1),s("p",null,x(t.status)+" - "+x(o.toFormatDate(t.endDate)),1)]),s("div",bo,[l(i,{class:"info",type:"button",onClick:A=>d.editGraduation(t)},{default:u(()=>[l(V,{icon:"iconamoon:pen"})]),_:2},1032,["onClick"]),l(i,{class:"danger",type:"button",onClick:()=>d.confirmDeleteGraduation(t)},{default:u(()=>[l(V,{icon:"iconamoon:trash"})]),_:2},1032,["onClick"])])]))),128))])):M("",!0),s("div",xo,[e[42]||(e[42]=s("h2",null,"Cursos",-1)),l(i,{class:"primary",type:"button",onClick:e[26]||(e[26]=()=>o.showCoursesModal=!0)},{default:u(()=>e[41]||(e[41]=[C(" Novo Curso ")])),_:1})]),o.courses.length>0?(h(),g("ul",Co,[(h(!0),g(w,null,_(o.courses,t=>(h(),g("li",{key:t.id},[s("div",null,[s("p",null,x(t.courseName),1),s("p",null," Duração: "+x(t.durationHours)+" "+x(t.durationHours>1?"horas":"hora")+" - "+x(o.toFormatDate(t.completionDate)),1),t.certificateUrl?(h(),g("a",{key:0,href:t.certificateUrl,target:"_blank"},"Certificado",8,Vo)):M("",!0)]),s("div",Eo,[l(i,{class:"info",type:"button",onClick:A=>d.editCourse(t)},{default:u(()=>[l(V,{icon:"iconamoon:pen"})]),_:2},1032,["onClick"]),l(i,{class:"danger",type:"button",onClick:()=>d.confirmDeleteCourse(t)},{default:u(()=>[l(V,{icon:"iconamoon:trash"})]),_:2},1032,["onClick"])])]))),128))])):M("",!0),s("div",Mo,[e[44]||(e[44]=s("h2",null,"Idiomas",-1)),l(i,{class:"primary",type:"button",onClick:e[27]||(e[27]=()=>o.showLanguageModal=!0)},{default:u(()=>e[43]||(e[43]=[C(" Novo Idioma ")])),_:1})]),o.languages.length>0?(h(),g("ul",Do,[(h(!0),g(w,null,_(o.languages,t=>(h(),g("li",{key:t.id},[s("div",null,[s("p",null,x(t.language)+" - "+x(t.level),1),t.certificateUrl?(h(),g("a",{key:0,href:t.certificateUrl,target:"_blank"},"Certificado",8,ko)):M("",!0)]),s("div",wo,[l(i,{class:"info",type:"button",onClick:A=>d.editLanguage(t)},{default:u(()=>[l(V,{icon:"iconamoon:pen"})]),_:2},1032,["onClick"]),l(i,{class:"danger",type:"button",onClick:()=>d.confirmDeleteLanguage(t)},{default:u(()=>[l(V,{icon:"iconamoon:trash"})]),_:2},1032,["onClick"])])]))),128))])):M("",!0)]),_:1}),l(c,{title:"Social"},{default:u(()=>[s("div",Uo,[q(s("textarea",{class:"textarea","onUpdate:modelValue":e[28]||(e[28]=t=>o.form.presentation=t),error:o.errors.presentation,placeholder:"Apresentação"},null,8,So),[[O,o.form.presentation]])]),s("div",No,[l(a,{modelValue:o.form.facebookUrl,"onUpdate:modelValue":e[29]||(e[29]=t=>o.form.facebookUrl=t),error:o.errors.facebookUrl,type:"url",placeholder:"Digite o link do facebook",label:"Facebook"},null,8,["modelValue","error"]),l(a,{modelValue:o.form.instagramUrl,"onUpdate:modelValue":e[30]||(e[30]=t=>o.form.instagramUrl=t),error:o.errors.instagramUrl,type:"url",placeholder:"Digite o link do instagram",label:"Instagram"},null,8,["modelValue","error"])]),s("div",Fo,[l(a,{modelValue:o.form.linkedinUrl,"onUpdate:modelValue":e[31]||(e[31]=t=>o.form.linkedinUrl=t),error:o.errors.linkedinUrl,type:"url",placeholder:"Digite o link do linkedin",label:"LinkedIn"},null,8,["modelValue","error"]),l(a,{modelValue:o.form.personalUrl,"onUpdate:modelValue":e[32]||(e[32]=t=>o.form.personalUrl=t),error:o.errors.personalUrl,type:"url",placeholder:"Digite o link pessoal",label:"Site Pessoal"},null,8,["modelValue","error"])])]),_:1}),l(i,{class:"primary",loading:o.loading,type:"submit",onClick:d.validate},{default:u(()=>e[45]||(e[45]=[C("Atualizar")])),_:1},8,["loading","onClick"])],32),l(T,{show:o.showGraduationModal,onOnClose:d.closeModals,onOnSave:d.loadGraduations,dataForm:o.selectedGraduation},null,8,["show","onOnClose","onOnSave","dataForm"]),l(H,{show:o.showCoursesModal,onOnClose:d.closeModals,onOnSave:d.loadCourses,dataForm:o.selectedCourse},null,8,["show","onOnClose","onOnSave","dataForm"]),l(J,{show:o.showLanguageModal,onOnClose:d.closeModals,onOnSave:d.loadLanguages,dataForm:o.selectedLanguage},null,8,["show","onOnClose","onOnSave","dataForm"]),l(R,{show:o.showWorkExperienceModal,onOnClose:d.closeModals,onOnSave:d.loadWorkExperiences,dataForm:o.selectedWorkExperience},null,8,["show","onOnClose","onOnSave","dataForm"]),l(z,{show:o.showDeleteModal,onOnClose:d.closeModals,onOnConfirm:d.handleDelete},null,8,["show","onOnClose","onOnConfirm"])],64)}const Lo=E(Qe,[["render",_o],["__scopeId","data-v-bdd7f663"]]),qo={name:"UserProfile",components:{Curriculum:Lo}};function Ao(r,e,n,f,o,d){const a=m("Curriculum");return h(),g("div",null,[l(a)])}const zo=E(qo,[["render",Ao],["__scopeId","data-v-65fd4b71"]]);export{zo as default};
