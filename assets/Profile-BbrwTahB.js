import{h as f,F as v,c as x,b as D,a as k}from"./http-TEASaXB4.js";import{M as U}from"./SwitchButton-CwM3ap5H.js";import{I as S,_ as h,c as d,a as t,b as V,t as b,n as y,e as l,r as g,F as C,i as w,g as _,o as m,h as E,k as N,v as F}from"./index-gjZa1fJp.js";import{g as L}from"./user-CgXpVslF.js";import"./moment-C5S46NFB.js";const O={name:"MySelect",props:{modelValue:{type:[String,Number,null],required:!0},options:{type:Array,required:!0},label:{type:String,required:!1},error:{type:String,required:!1}},data(){return{isOpen:!1}},components:{Icon:S},computed:{selectedOptionTitle(){const i=this.options.find(o=>o.id===this.modelValue);return i?i.title:null}},mounted(){document.addEventListener("click",this.handleClickOutside)},beforeUnmount(){document.removeEventListener("click",this.handleClickOutside)},methods:{toggleDropdown(){this.isOpen=!this.isOpen},selectOption(i){this.$emit("update:modelValue",i.id),this.isOpen=!1},handleClickOutside(i){this.$el.contains(i.target)||(this.isOpen=!1)}}},P={class:"wrapper"},A={key:0,class:"label"},I={class:"value"},M={key:1,class:"dropdown"},q=["onClick"],B={key:0,class:"error"};function T(i,o,n,p,e,a){const s=g("Icon");return m(),d("main",null,[t("div",P,[n.label?(m(),d("label",A,b(n.label),1)):V("",!0),t("div",{class:y(["select",{error:!!n.error}]),onClick:o[0]||(o[0]=(...u)=>a.toggleDropdown&&a.toggleDropdown(...u))},[t("span",I,b(a.selectedOptionTitle||"Selecione"),1),t("span",{class:y(["arrow",{open:e.isOpen}])},[l(s,{icon:"bx:down-arrow"})],2)],2),e.isOpen?(m(),d("ul",M,[(m(!0),d(C,null,w(n.options,u=>(m(),d("li",{key:u.id,onClick:_(c=>a.selectOption(u),["stop"]),class:y(["option",{selected:u.id===n.modelValue}])},b(u.title),11,q))),128))])):V("",!0)]),n.error?(m(),d("span",B,b(n.error),1)):V("",!0)])}const j=h(O,[["render",T],["__scopeId","data-v-441006b1"]]),H=()=>f.authApi().get("/filter/disability"),R=()=>f.authApi().get("/filter/gender"),G=()=>f.authApi().get("/filter/maritalstatus"),z=()=>f.authApi().get("/filter/nationality"),J=()=>f.authApi().get("/filter/education-level"),K=()=>f.authApi().get("/filter/education-status"),Q=()=>f.authApi().get("/filter/language-level"),W={name:"UserCurriculum",data(){return{form:{name:"",email:"",password:"",cpf:"",rg:"",cnh:"",typeCnh:"",hasDisability:!1,typeDisability:"",gender:"",marital_status_id:null,nationality:"",phoneNumber:"",phoneNumber2:"",available_to_travel:!1,salary_claim:null,first_job:!1,presentation:"",postal_code:"",street:"",number:null,complement:"",neighborhood:"",city:"",state:"",country:"",facebook_url:"",instagram_url:"",linkedin_url:"",personal_url:""},disabilities:[],genders:[],maritalStatus:[],nationalities:[],educationLevels:[],educationStatus:[],languageLevels:[],errors:{},loading:!1}},components:{FormInput:v,MySwitch:U,MySelect:j},watch:{"form.hasDisability"(i){i||(this.form.typeDisability="")}},created(){this.loadFilters(),this.loadData()},methods:{validate(){x({name:k().min(3,"Nome deve ter pelo menos 3 caracteres").required("Nome é obrigatório"),gender:D().min(1,"Selecione um sexo").required("Sexo é obrigatório")}).validate(this.form,{abortEarly:!1}).then(()=>{this.errors={},this.submitForm()}).catch(o=>{const n={};o.inner.forEach(p=>{n[p.path]=p.message}),this.errors=n})},submitForm(){console.log("Form submitted with data:",this.form)},async loadFilters(){try{const i=await H(),o=await R(),n=await G(),p=await z(),e=await J(),a=await K(),s=await Q();this.disabilities=i.data,this.genders=o.data,this.maritalStatus=n.data,this.nationalities=p.data,this.educationLevels=e.data,this.educationStatus=a.data,this.languageLevels=s.data}catch(i){console.error("Error loading filters:",i)}},async loadData(){try{const i=localStorage.getItem("uid"),o=await L(i);this.form={...this.form,...o.data,hasDisability:!!o.data.hasDisability,available_to_travel:!!o.data.available_to_travel,first_job:!!o.data.first_job}}catch(i){console.error("Error loading data:",i)}}}},X={class:"group"},Y={class:"group"},Z={class:"group flex"},$={class:"group flex"},ee={class:"group flex"},oe={class:"switch"},re={class:"group flex"},le={class:"group"},te={class:"group flex"},se={class:"group flex"},ie={class:"switch"},ne={class:"switch"},ae={class:"group"},ue=["error"],me={class:"group"},de={class:"group flex"},pe={class:"group"},fe={class:"group flex"},ce={class:"group flex"},ge={class:"group flex"};function be(i,o,n,p,e,a){const s=g("FormInput"),u=g("MySwitch"),c=g("MySelect");return m(),d("form",{onSubmit:o[29]||(o[29]=_((...r)=>a.validate&&a.validate(...r),["prevent"]))},[o[33]||(o[33]=t("p",null,"Preencha os campos abaixo para atualizar seu currículo.",-1)),t("div",X,[l(s,{modelValue:e.form.name,"onUpdate:modelValue":o[0]||(o[0]=r=>e.form.name=r),error:e.errors.name,type:"text",placeholder:"Digite seu nome",label:"Name"},null,8,["modelValue","error"])]),t("div",Y,[l(s,{modelValue:e.form.email,"onUpdate:modelValue":o[1]||(o[1]=r=>e.form.email=r),error:e.errors.email,type:"email",placeholder:"Digite seu e-mail",label:"Email"},null,8,["modelValue","error"])]),t("div",Z,[l(s,{modelValue:e.form.cpf,"onUpdate:modelValue":o[2]||(o[2]=r=>e.form.cpf=r),error:e.errors.cpf,type:"text",placeholder:"Digite seu CPF",label:"CPF"},null,8,["modelValue","error"]),l(s,{modelValue:e.form.rg,"onUpdate:modelValue":o[3]||(o[3]=r=>e.form.rg=r),error:e.errors.rg,type:"text",placeholder:"Digite seu RG",label:"RG"},null,8,["modelValue","error"])]),t("div",$,[l(s,{modelValue:e.form.cnh,"onUpdate:modelValue":o[4]||(o[4]=r=>e.form.cnh=r),error:e.errors.cnh,type:"text",placeholder:"Digite sua CNH",label:"CNH"},null,8,["modelValue","error"]),l(s,{modelValue:e.form.typeCnh,"onUpdate:modelValue":o[5]||(o[5]=r=>e.form.typeCnh=r),error:e.errors.typeCnh,type:"text",placeholder:"Digite o tipo de CNH",label:"Tipo de CNH"},null,8,["modelValue","error"])]),t("div",ee,[t("div",oe,[o[30]||(o[30]=t("span",null,"Possui deficiência?",-1)),l(u,{modelValue:e.form.hasDisability,"onUpdate:modelValue":o[6]||(o[6]=r=>e.form.hasDisability=r)},null,8,["modelValue"])]),e.form.hasDisability?(m(),E(c,{key:0,options:e.disabilities,modelValue:e.form.typeDisability,"onUpdate:modelValue":o[7]||(o[7]=r=>e.form.typeDisability=r),label:"Deficiência",error:e.errors.typeDisability},null,8,["options","modelValue","error"])):V("",!0)]),t("div",re,[l(c,{options:e.genders,modelValue:e.form.gender,"onUpdate:modelValue":o[8]||(o[8]=r=>e.form.gender=r),label:"Sexo",error:e.errors.gender},null,8,["options","modelValue","error"]),l(c,{options:e.maritalStatus,modelValue:e.form.marital_status_id,"onUpdate:modelValue":o[9]||(o[9]=r=>e.form.marital_status_id=r),label:"Estado Civil",error:e.errors.marital_status_id},null,8,["options","modelValue","error"])]),t("div",le,[l(c,{options:e.nationalities,modelValue:e.form.nationality,"onUpdate:modelValue":o[10]||(o[10]=r=>e.form.nationality=r),label:"Nacionalidade",error:e.errors.nationality},null,8,["options","modelValue","error"])]),t("div",te,[l(s,{modelValue:e.form.phoneNumber,"onUpdate:modelValue":o[11]||(o[11]=r=>e.form.phoneNumber=r),error:e.errors.phoneNumber,type:"tel",mask:"tel",placeholder:"(99) 99999-9999",label:"Telefone"},null,8,["modelValue","error"]),l(s,{modelValue:e.form.phoneNumber2,"onUpdate:modelValue":o[12]||(o[12]=r=>e.form.phoneNumber2=r),error:e.errors.phoneNumber2,type:"tel",mask:"tel",placeholder:"(99) 99999-9999",label:"Telefone 2"},null,8,["modelValue","error"])]),t("div",se,[t("div",ie,[o[31]||(o[31]=t("span",null,"Disponibilidade para viagem?",-1)),l(u,{modelValue:e.form.available_to_travel,"onUpdate:modelValue":o[13]||(o[13]=r=>e.form.available_to_travel=r)},null,8,["modelValue"])]),t("div",ne,[o[32]||(o[32]=t("span",null,"Primeiro Emprego?",-1)),l(u,{modelValue:e.form.first_job,"onUpdate:modelValue":o[14]||(o[14]=r=>e.form.first_job=r)},null,8,["modelValue"])]),l(s,{modelValue:e.form.salary_claim,"onUpdate:modelValue":o[15]||(o[15]=r=>e.form.salary_claim=r),error:e.errors.salary_claim,type:"number",placeholder:"R$ 5.000,00",label:"Pretensão Salarial"},null,8,["modelValue","error"])]),t("div",ae,[N(t("textarea",{"onUpdate:modelValue":o[16]||(o[16]=r=>e.form.presentation=r),error:e.errors.presentation,placeholder:"Apresentação"},null,8,ue),[[F,e.form.presentation]])]),t("div",me,[l(s,{modelValue:e.form.postal_code,"onUpdate:modelValue":o[17]||(o[17]=r=>e.form.postal_code=r),error:e.errors.postal_code,type:"text",placeholder:"Digite o CEP",label:"CEP"},null,8,["modelValue","error"])]),t("div",de,[l(s,{modelValue:e.form.street,"onUpdate:modelValue":o[18]||(o[18]=r=>e.form.street=r),error:e.errors.street,type:"text",placeholder:"Digite a rua",label:"Rua"},null,8,["modelValue","error"]),l(s,{modelValue:e.form.number,"onUpdate:modelValue":o[19]||(o[19]=r=>e.form.number=r),error:e.errors.number,type:"number",placeholder:"555",label:"Número"},null,8,["modelValue","error"])]),t("div",pe,[l(s,{modelValue:e.form.complement,"onUpdate:modelValue":o[20]||(o[20]=r=>e.form.complement=r),error:e.errors.complement,type:"text",placeholder:"Fundo A",label:"Complemento"},null,8,["modelValue","error"])]),t("div",fe,[l(s,{modelValue:e.form.neighborhood,"onUpdate:modelValue":o[21]||(o[21]=r=>e.form.neighborhood=r),error:e.errors.neighborhood,type:"text",placeholder:"Limeira",label:"Bairro"},null,8,["modelValue","error"]),l(s,{modelValue:e.form.city,"onUpdate:modelValue":o[22]||(o[22]=r=>e.form.city=r),error:e.errors.city,type:"text",placeholder:"São Paulo",label:"Cidade"},null,8,["modelValue","error"])]),t("div",ce,[l(s,{modelValue:e.form.state,"onUpdate:modelValue":o[23]||(o[23]=r=>e.form.state=r),error:e.errors.state,type:"text",placeholder:"SP",label:"Estado"},null,8,["modelValue","error"]),l(s,{modelValue:e.form.country,"onUpdate:modelValue":o[24]||(o[24]=r=>e.form.country=r),error:e.errors.country,type:"text",placeholder:"Brasil",label:"País"},null,8,["modelValue","error"])]),t("div",ge,[l(s,{modelValue:e.form.facebook_url,"onUpdate:modelValue":o[25]||(o[25]=r=>e.form.facebook_url=r),error:e.errors.facebook_url,type:"url",placeholder:"Digite o link do facebook",label:"Facebook"},null,8,["modelValue","error"]),l(s,{modelValue:e.form.instagram_url,"onUpdate:modelValue":o[26]||(o[26]=r=>e.form.instagram_url=r),error:e.errors.instagram_url,type:"url",placeholder:"Digite o link do instagram",label:"Instagram"},null,8,["modelValue","error"]),l(s,{modelValue:e.form.linkedin_url,"onUpdate:modelValue":o[27]||(o[27]=r=>e.form.linkedin_url=r),error:e.errors.linkedin_url,type:"url",placeholder:"Digite o link do linkedin",label:"LinkedIn"},null,8,["modelValue","error"]),l(s,{modelValue:e.form.personal_url,"onUpdate:modelValue":o[28]||(o[28]=r=>e.form.personal_url=r),error:e.errors.personal_url,type:"url",placeholder:"Digite o link pessoal",label:"Site Pessoal"},null,8,["modelValue","error"])]),o[34]||(o[34]=t("button",{type:"submit"},"enviar",-1))],32)}const Ve=h(W,[["render",be],["__scopeId","data-v-77fe0a87"]]),ye={name:"UserProfile",components:{Curriculum:Ve}};function he(i,o,n,p,e,a){const s=g("Curriculum");return m(),d("div",null,[l(s)])}const Ue=h(ye,[["render",he],["__scopeId","data-v-65fd4b71"]]);export{Ue as default};
