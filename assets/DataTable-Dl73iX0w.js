import{I as V,_ as I,c as n,a,e as S,n as M,r as u,o as t,u as D,b as r,t as p,g as w,F as f,i as y,j as A,h as F,w as N,f as j}from"./index-DdM4_KDb.js";import{a as $}from"./ModalBase-DCHDSzMN.js";import{M as L}from"./MyButton-DrSZ1Rav.js";const T={name:"SearchInput",props:{placeholder:{type:String,default:""},modelValue:{type:String,default:""}},emits:["update:modelValue"],components:{Icon:V},methods:{focus(){this.$refs?.input?.focus()},blur(){this.$refs?.input?.blur()},select(){this.$refs?.input?.select()}}},E=["placeholder","value"];function W(o,s,e,v,c,d){const i=u("Icon");return t(),n("main",null,[a("input",{type:"search",placeholder:e.placeholder,value:e.modelValue,class:M({show:e.modelValue}),onInput:s[0]||(s[0]=m=>o.$emit("update:modelValue",m?.target?.value)),ref:"input"},null,42,E),S(i,{icon:"bi:search"})])}const z=I(T,[["render",W],["__scopeId","data-v-fa66c7c8"]]),b={name:"DataTableComponent",data(){return{toFormatDate:$,search:""}},props:{items:{type:Array},columns:{type:Array},total:{type:Number},loading:{type:Boolean,default:!1},loadMore:{type:Boolean,default:!1}},components:{SearchInput:z,Icon:V,MyButton:L},emits:["onSearch","onLoadMore"],methods:{handleSearch(){this.$emit("onSearch",this.search)}},computed:{justifyWasAction(){return this.total?"space-between":"end"}}},k=()=>{D(o=>({"184109d2":o.justifyWasAction}))},g=b.setup;b.setup=g?(o,s)=>(k(),g(o,s)):k;const U={class:"data-table"},q=["colspan"],x={key:0},G={class:"header"},H={key:0},J={key:0,class:"actions"},K={key:0},O=["colspan"],P={key:1},Q=["colspan"];function R(o,s,e,v,c,d){const i=u("SearchInput"),m=u("Icon"),B=u("MyButton");return t(),n("main",U,[a("table",null,[a("thead",null,[a("tr",null,[a("th",{colspan:e.columns.length+(o.$slots.actions?1:0)},[a("section",null,[e.total?(t(),n("span",x,"#"+p(e.total),1)):r("",!0),a("form",{action:"#",onSubmit:s[1]||(s[1]=w((...l)=>d.handleSearch&&d.handleSearch(...l),["stop","prevent"]))},[S(i,{modelValue:c.search,"onUpdate:modelValue":s[0]||(s[0]=l=>c.search=l)},null,8,["modelValue"])],32)])],8,q)]),a("tr",G,[(t(!0),n(f,null,y(e.columns,(l,h)=>(t(),n("th",{key:h},p(l?.title),1))),128)),o.$slots.actions?(t(),n("th",H,"Ações")):r("",!0)])]),a("tbody",null,[(t(!0),n(f,null,y(e.items,(l,h)=>(t(),n("tr",{key:h},[(t(!0),n(f,null,y(e.columns,(_,C)=>(t(),n("td",{key:C},p(_?.type==="date"?c.toFormatDate(l[_?.key]):l[_?.key]),1))),128)),o.$slots.actions?(t(),n("td",J,[A(o.$slots,"actions",{item:l},void 0)])):r("",!0)]))),128))]),e.loading?(t(),n("tbody",K,[a("tr",null,[a("td",{colspan:e.columns.length+(o.$slots.actions?1:0)},[S(m,{class:"loader",icon:"svg-spinners:3-dots-scale"})],8,O)])])):r("",!0),e.loadMore?(t(),n("tfoot",P,[a("tr",null,[a("td",{colspan:e.columns?.length+(o.$slots.actions?1:0)},[e.loading?r("",!0):(t(),F(B,{key:0,class:"primary",onClick:s[2]||(s[2]=l=>o.$emit("onLoadMore"))},{default:N(()=>s[3]||(s[3]=[j(" Carregar mais ")])),_:1}))],8,Q)])])):r("",!0)])])}const ee=I(b,[["render",R],["__scopeId","data-v-4b7b2faf"]]);export{ee as D};
