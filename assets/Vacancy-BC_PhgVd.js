import{S as y}from"./SearchInput-BYtjQ7Ns.js";import{l as _}from"./vacancy-DSgO_k5_.js";import{I as V,_ as k,c as m,a as t,g as M,d as S,t as o,h as I,e as s,r as d,F as b,i as w,f as n,w as u,o as p}from"./index-CjdhjMXF.js";import{t as B}from"./conversors-CBWuNu8U.js";import{M as v}from"./MyButton-pt6yh-1N.js";import"./http-B6iAuTPI.js";const x={name:"UserVacancy",components:{SearchInput:y,MyButton:v,Icon:V},data(){return{toFormatDate:B,loading:!1,items:[],total:0,page:1,search:""}},mounted(){this.getVacancies()},methods:{async getVacancies(){this.loading=!0;try{const r=await _(this.filters);this.items.push(...r.data.vacancies),this.total=r.data?.total}catch(r){this.$snotify.error(r)}finally{this.loading=!1}},handleSearch(){this.page=1,this.items=[],this.getVacancies()},handleLoadMore(){this.page+=1,this.getVacancies()}},computed:{filters(){return{page:this.page,search:this.search}},loadMore(){return this.items.length<this.total}}},C={class:"container"};function D(r,a,L,F,l,i){const h=d("SearchInput"),c=d("Icon"),f=d("RouterLink"),g=d("MyButton");return p(),m("main",C,[t("header",null,[t("h1",null,"Vagas disponiveis "+o(l.total),1),t("form",{onSubmit:a[1]||(a[1]=I((...e)=>i.handleSearch&&i.handleSearch(...e),["stop","prevent"]))},[s(h,{modelValue:l.search,"onUpdate:modelValue":a[0]||(a[0]=e=>l.search=e)},null,8,["modelValue"])],32)]),t("section",null,[(p(!0),m(b,null,w(l.items,e=>(p(),m("div",{class:"card",key:e.id},[t("h2",null,o(e.title),1),t("article",null,[t("p",null,[s(c,{icon:"solar:point-on-map-bold"}),n(" "+o(e.city)+" - "+o(e.state),1)]),t("p",null,[s(c,{icon:"material-symbols:home-work"}),n(" "+o(e.employmentType),1)]),t("p",null,[s(c,{icon:"ic:baseline-work"}),n(" "+o(e.workModel),1)]),t("p",null,[s(c,{icon:"solar:calendar-bold"}),n(" "+o(l.toFormatDate(e.expirationDate)),1)])]),s(f,{class:"btn primary",to:{name:"userVacancyDetail",params:{id:e.id}},target:"_blank"},{default:u(()=>a[2]||(a[2]=[n(" Detalhes ")])),_:2},1032,["to"])]))),128))]),i.loadMore?(p(),M(g,{key:0,onClick:i.handleLoadMore},{default:u(()=>a[3]||(a[3]=[n("Carregar mais")])),_:1},8,["onClick"])):S("",!0)])}const q=k(x,[["render",D],["__scopeId","data-v-7588d8cc"]]);export{q as default};
