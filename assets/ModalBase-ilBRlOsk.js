import{I as k,_ as I,c as a,a as n,e as p,n as C,r as u,o as s,u as j,b as r,t as h,g as w,F as b,i as S,j as g,h as D,w as A,f as F}from"./index-BBCqJuXd.js";import{h as L}from"./moment-C5S46NFB.js";import{M as N}from"./MyButton-BsTqssDR.js";const le=e=>{const o=Object.fromEntries(Object.entries(e).filter(([t,c])=>c!=null));return new URLSearchParams(o).toString()},E=e=>e?L(e).format("L"):"",T={name:"SearchInput",props:{placeholder:{type:String,default:""},modelValue:{type:String,default:""}},emits:["update:modelValue"],components:{Icon:k},methods:{focus(){this.$refs?.input?.focus()},blur(){this.$refs?.input?.blur()},select(){this.$refs?.input?.select()}}},O=["placeholder","value"];function P(e,o,t,c,i,m){const d=u("Icon");return s(),a("main",null,[n("input",{type:"search",placeholder:t.placeholder,value:t.modelValue,class:C({show:t.modelValue}),onInput:o[0]||(o[0]=_=>e.$emit("update:modelValue",_?.target?.value)),ref:"input"},null,42,O),p(d,{icon:"bi:search"})])}const U=I(T,[["render",P],["__scopeId","data-v-fa66c7c8"]]),v={name:"DataTableComponent",data(){return{toFormatDate:E,search:""}},props:{items:{type:Array},columns:{type:Array},total:{type:Number},loading:{type:Boolean,default:!1},loadMore:{type:Boolean,default:!1}},components:{SearchInput:U,Icon:k,MyButton:N},emits:["onSearch","onLoadMore"],methods:{handleSearch(){this.$emit("onSearch",this.search)}},computed:{justifyWasAction(){return this.total?"space-between":"end"}}},V=()=>{j(e=>({"184109d2":e.justifyWasAction}))},$=v.setup;v.setup=$?(e,o)=>(V(),$(e,o)):V;const W={class:"data-table"},z=["colspan"],Q={key:0},R={class:"header"},q={key:0},G={key:0,class:"actions"},H={key:0},J=["colspan"],K={key:1},X=["colspan"];function Y(e,o,t,c,i,m){const d=u("SearchInput"),_=u("Icon"),B=u("MyButton");return s(),a("main",W,[n("table",null,[n("thead",null,[n("tr",null,[n("th",{colspan:t.columns.length+(e.$slots.actions?1:0)},[n("section",null,[t.total?(s(),a("span",Q,"#"+h(t.total),1)):r("",!0),n("form",{action:"#",onSubmit:o[1]||(o[1]=w((...l)=>m.handleSearch&&m.handleSearch(...l),["stop","prevent"]))},[p(d,{modelValue:i.search,"onUpdate:modelValue":o[0]||(o[0]=l=>i.search=l)},null,8,["modelValue"])],32)])],8,z)]),n("tr",R,[(s(!0),a(b,null,S(t.columns,(l,f)=>(s(),a("th",{key:f},h(l?.title),1))),128)),e.$slots.actions?(s(),a("th",q,"Ações")):r("",!0)])]),n("tbody",null,[(s(!0),a(b,null,S(t.items,(l,f)=>(s(),a("tr",{key:f},[(s(!0),a(b,null,S(t.columns,(y,M)=>(s(),a("td",{key:M},h(y?.type==="date"?i.toFormatDate(l[y?.key]):l[y?.key]),1))),128)),e.$slots.actions?(s(),a("td",G,[g(e.$slots,"actions",{item:l},void 0)])):r("",!0)]))),128))]),t.loading?(s(),a("tbody",H,[n("tr",null,[n("td",{colspan:t.columns.length+(e.$slots.actions?1:0)},[p(_,{class:"loader",icon:"svg-spinners:3-dots-scale"})],8,J)])])):r("",!0),t.loadMore?(s(),a("tfoot",K,[n("tr",null,[n("td",{colspan:t.columns?.length+(e.$slots.actions?1:0)},[t.loading?r("",!0):(s(),D(B,{key:0,class:"primary",onClick:o[2]||(o[2]=l=>e.$emit("onLoadMore"))},{default:A(()=>o[3]||(o[3]=[F(" Carregar mais ")])),_:1}))],8,X)])])):r("",!0)])])}const re=I(v,[["render",Y],["__scopeId","data-v-4b7b2faf"]]),Z={name:"ModalBase",props:{title:{type:String,default:"Modal title"},open:{type:Boolean,default:!1},loading:{type:Boolean,default:!1}},components:{Icon:k},emits:["onClose"]},x={key:0},ee={class:"card"},te=["disabled"];function oe(e,o,t,c,i,m){const d=u("Icon");return t.open?(s(),a("main",x,[n("section",ee,[n("header",null,[n("h1",null,h(t.title),1),n("button",{class:"rounded",onClick:o[0]||(o[0]=_=>e.$emit("onClose")),disabled:t.loading},[p(d,{icon:"carbon:close-outline"})],8,te)]),g(e.$slots,"content",{},void 0),g(e.$slots,"actions",{},void 0)])])):r("",!0)}const ce=I(Z,[["render",oe],["__scopeId","data-v-8c0fcdb9"]]);export{re as D,ce as M,le as t};
